"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_entry_ts-packages_use-debounce_use-debounce_ts"],{11418:(e,t,r)=>{let n;r.d(t,{H:()=>E});var o=r(35750),a=r(18150),i=r(85242),s=r(88243),l=r(16213),c=r(10204),d=new WeakMap,h=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,n,o){super(e,()=>(0,s._)(this,h,u).call(this),r,n,void 0,o),(0,l._)(this,h),(0,a._)(this,d,{writable:!0,value:void 0}),(0,i._)(this,d,t)}};function u(){return m((0,o._)(this,d))}async function m(e){let t=await p(e);return t&&t.url&&t.token?f(t.url,t.token):null}async function p(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function f(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),x=r(34095),b=r(82075),w=r(23683),y=r(69599);function v(e,{channel:t,type:r,data:n}){for(let o of e)o.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}var j=new WeakMap,_=new WeakMap,S=new WeakMap,C=new WeakMap,N=new WeakMap,O=new WeakSet;let I=class AliveSessionProxy{subscribe(e){let t=(0,o._)(this,_).add(...e);t.length&&(0,o._)(this,j).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,c.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&(0,o._)(this,j).port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=(0,o._)(this,_).drain(...e);t.length&&(0,o._)(this,j).port.postMessage({unsubscribe:t});let r=(0,o._)(this,S).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,o._)(this,S).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,o._)(this,S).getChannelMetadata(r)});(0,o._)(this,j).port.postMessage({updatePresenceMetadata:t})}online(){(0,o._)(this,j).port.postMessage({online:!0})}offline(){(0,o._)(this,j).port.postMessage({online:!1})}hangup(){(0,o._)(this,j).port.postMessage({hangup:!0})}constructor(e,t,r,n,d,h){(0,l._)(this,O),(0,a._)(this,j,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:new c.m0}),(0,a._)(this,S,{writable:!0,value:new c.VH}),(0,a._)(this,C,{writable:!0,value:void 0}),(0,a._)(this,N,{writable:!0,value:new Map}),(0,i._)(this,C,d),(0,i._)(this,j,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"})),(0,o._)(this,j).port.onmessage=({data:e})=>(0,s._)(this,O,D).call(this,e),(0,o._)(this,j).port.postMessage({connect:{url:t,refreshUrl:r,options:h}})}};function D(e){let{channel:t}=e;if("presence"===e.type){let r=(0,o._)(this,N).get(t);r||(r=(0,g.s)((e,r)=>{(0,o._)(this,C).call(this,e,r),(0,o._)(this,N).delete(t)},100),(0,o._)(this,N).set(t,r)),r((0,o._)(this,_).subscribers(t),e);return}(0,o._)(this,C).call(this,(0,o._)(this,_).subscribers(t),e)}async function k(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let o=(()=>{let o=(0,y.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,w.nr)()&&"SharedWorker"in window&&"true"!==(0,b.A)("localStorage").getItem("bypassSharedWorker"))try{return new I(e,t,r,n,v,o)}catch{}return new AliveSession(t,r,!1,v,o)})();return window.addEventListener("online",()=>o.online()),window.addEventListener("offline",()=>o.offline()),window.addEventListener("pagehide",()=>{"hangup"in o&&o.hangup()}),o}async function P(){return await x.G,k()}function E(){return n||(n=P())}},17005:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(74848),o=r(21728),a=r(77274),i=r(96379),s=r(96540),l=r(35247),c=r(54508);let d=[{name:"Hate it",value:1,icon:a.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:a.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:a.Cf,color:"satisfied"},{name:"Love it",value:4,icon:a.mN,color:"verySatisfied"}],h=(0,s.forwardRef)(function(e,t){let r,h,u,m,p=(0,o.c)(7),{mode:f,returnFocusRef:g}=e,x=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(void 0);p[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>({openDialog:e=>{w.current=e,l.W.copilotChatInterviewSurvey?x.current?.openDialog():b.current?.openDialog(e)}}),p[0]=r):r=p[0],(0,s.useImperativeHandle)(t,r),p[1]!==f?(h=async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,i.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},p[1]=f,p[2]=h):h=p[2];let y=h;return p[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.E,{ref:x,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(w.current)}}),p[3]=u):u=p[3],p[4]!==y||p[5]!==g?(m=(0,n.jsxs)(n.Fragment,{children:[u,(0,n.jsx)(a.NE,{ref:b,options:d,onSubmit:y,returnFocusRef:g})]}),p[4]=y,p[5]=g,p[6]=m):m=p[6],m});h.displayName="ConversationFeedbackDialog"},18308:(e,t,r)=>{var n=r(7123),o=r(74848),a=r(21728),i=r(10436),s=r(94195),l=r(2635),c=r(33592),d=r(25641),h=r(97286),u=r(77430),m=r(25407),p=r(68911),f=r(71315),g=r(45385),x=r(91547),b=r(38621),w=r(62935),y=r(26108),v=r(87448),j=r(96540),_=r(37178),S=r(73017);function C(e){let t,r,n,i,s=(0,a.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},r={fontSize:"12px",fontFamily:"var(--fontStack-monospace)",overflowX:"auto"},s[0]=t,s[1]=r):(t=s[0],r=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e},e),(0,o.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,o.jsx)(S.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],n=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=n}else n=s[5];return s[9]!==n?(i=(0,o.jsx)(v.az,{sx:t,children:(0,o.jsx)("table",{style:r,children:n})}),s[9]=n,s[10]=i):i=s[10],i}try{C.displayName||(C.displayName="SimpleCodeListing")}catch{}function N(e){let t,r,n,i,s,l,c,d,h,f,y,S,N,P,E,R,L,T,A,V,B,$,F,z,M,H,U,W,q,G,J=(0,a.c)(88),{reference:K,details:Q,detailsLoading:X,detailsError:Y,onDismiss:Z}=e,{contributors:ee}=(0,g.u)(K.repoOwner,K.repoName,K.commitOID,K.path),[et]=(0,x.E)(K.repoOwner,K.repoName,K.commitOID,K.path),{lines:er,lineNumbers:en,expandUp:eo,expandDown:ea}=function(e,t,r){let n,o,i,s,l,c,d,h,u=(0,a.c)(42),[m,p]=(0,j.useState)(e?.start??-1),[f,g]=(0,j.useState)(e?.end??-1);u[0]!==r||u[1]!==t||u[2]!==e?(n=r&&e&&t?r.slice(e.start-t.start,e.end-t.start+1):[],u[0]=r,u[1]=t,u[2]=e,u[3]=n):n=u[3];let[x,b]=(0,j.useState)(n);u[4]!==r||u[5]!==f||u[6]!==t||u[7]!==e||u[8]!==m?(o=(n,o)=>{let a=void 0===n?m:n,i=void 0===o?f:o;r&&e&&t&&!(a<0)&&!(i<0)&&b(r.slice(a-t.start,i-t.start+1))},u[4]=r,u[5]=f,u[6]=t,u[7]=e,u[8]=m,u[9]=o):o=u[9];let w=o;u[10]!==r||u[11]!==f||u[12]!==e||u[13]!==m||u[14]!==w?(i=()=>{if(e&&r&&(-1===m||-1===f)){let t=e.start,r=e.end;p(t),g(r),w(t,r)}},u[10]=r,u[11]=f,u[12]=e,u[13]=m,u[14]=w,u[15]=i):i=u[15],u[16]!==r||u[17]!==f||u[18]!==t||u[19]!==e||u[20]!==m||u[21]!==w?(s=[r,e,t,w,m,f],u[16]=r,u[17]=f,u[18]=t,u[19]=e,u[20]=m,u[21]=w,u[22]=s):s=u[22],(0,j.useEffect)(i,s),u[23]!==t?.start||u[24]!==m||u[25]!==w?(l=()=>{let e=Math.max(m-k,t?.start??-1);p(e),w(e)},u[23]=t?.start,u[24]=m,u[25]=w,u[26]=l):l=u[26],t?.start;let y=l;u[27]!==f||u[28]!==t?.end||u[29]!==m||u[30]!==w?(c=()=>{let e=Math.min(f+k,t?.end??-1);g(e),w(m,e)},u[27]=f,u[28]=t?.end,u[29]=m,u[30]=w,u[31]=c):c=u[31],t?.end;let v=c,_=-1!==m&&m!==t?.start,S=-1!==f&&f!==t?.end;if(u[32]!==x||u[33]!==m){let e;u[35]!==m?(e=(e,t)=>m+t,u[35]=m,u[36]=e):e=u[36],d=x.map(e),u[32]=x,u[33]=m,u[34]=d}else d=u[34];let C=_?y:null,N=S?v:null;return u[37]!==x||u[38]!==d||u[39]!==C||u[40]!==N?(h={lines:x,lineNumbers:d,expandUp:C,expandDown:N},u[37]=x,u[38]=d,u[39]=C,u[40]=N,u[41]=h):h=u[41],h}(Q?.range,Q?.expandedRange,Q?.highlightedContents),ei=Q?.headerInfo,es=Q?.repoIsOrgOwned,el=`${K.repoOwner}.png`;return J[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},J[0]=t):t=J[0],J[1]!==es||J[2]!==el?(r=(0,o.jsx)(u.r,{square:es,src:el,sx:t}),J[1]=es,J[2]=el,J[3]=r):r=J[3],J[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},J[4]=n):n=J[4],J[5]!==K.repoName||J[6]!==K.repoOwner?(i=(0,o.jsxs)(v.EY,{sx:n,children:[K.repoOwner,"/",K.repoName]}),J[5]=K.repoName,J[6]=K.repoOwner,J[7]=i):i=J[7],J[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),J[8]=s):s=J[8],J[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},J[9]=l):l=J[9],J[10]!==K.ref?(c=(0,p.gE)(K.ref),J[10]=K.ref,J[11]=c):c=J[11],J[12]!==c?(d=(0,o.jsx)(v.EY,{sx:l,children:c}),J[12]=c,J[13]=d):d=J[13],J[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),J[14]=h):h=J[14],J[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},J[15]=f):f=J[15],J[16]!==K.path?(y=(0,o.jsx)(v.EY,{sx:f,children:K.path}),J[16]=K.path,J[17]=y):y=J[17],J[18]!==K.range||J[19]!==K.type?(S="snippet"===K.type&&(0,o.jsxs)("span",{children:[":",K.range.start,"-",K.range.end]}),J[18]=K.range,J[19]=K.type,J[20]=S):S=J[20],J[21]!==Z||J[22]!==d||J[23]!==y||J[24]!==S||J[25]!==r||J[26]!==i?(N=(0,o.jsxs)(_.O.Header,{onDismiss:Z,children:[r,i,s,d,h,y,S]}),J[21]=Z,J[22]=d,J[23]=y,J[24]=S,J[25]=r,J[26]=i,J[27]=N):N=J[27],J[28]===Symbol.for("react.memo_cache_sentinel")?(P={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},J[28]=P):P=J[28],J[29]!==ei?(E=ei&&(0,o.jsx)(I,{headerInfo:ei}),J[29]=ei,J[30]=E):E=J[30],J[31]!==ei?(R=ei&&(0,o.jsx)(D,{headerInfo:ei}),J[31]=ei,J[32]=R):R=J[32],J[33]!==E||J[34]!==R?(L=(0,o.jsxs)(O,{children:[E,R]}),J[33]=E,J[34]=R,J[35]=L):L=J[35],J[36]!==eo?(T=eo&&(0,o.jsx)(_.O.ContentExpander,{direction:"above",onExpand:eo}),J[36]=eo,J[37]=T):T=J[37],J[38]!==en||J[39]!==er?(A=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(C,{lines:er,lineNumbers:en})}),J[38]=en,J[39]=er,J[40]=A):A=J[40],J[41]!==ea?(V=ea&&(0,o.jsx)(_.O.ContentExpander,{direction:"below",onExpand:ea}),J[41]=ea,J[42]=V):V=J[42],J[43]!==L||J[44]!==T||J[45]!==A||J[46]!==V?(B=(0,o.jsxs)(v.az,{sx:P,children:[L,T,A,V]}),J[43]=L,J[44]=T,J[45]=A,J[46]=V,J[47]=B):B=J[47],J[48]!==K.repoName||J[49]!==K.repoOwner?($=(0,m.Do2)({name:K.repoName,ownerLogin:K.repoOwner}),J[48]=K.repoName,J[49]=K.repoOwner,J[50]=$):$=J[50],J[51]!==K.repoName||J[52]!==K.repoOwner||J[53]!==$?(F=(0,o.jsxs)(_.O.DetailLink,{href:$,icon:b.RepoIcon,children:[K.repoOwner,"/",K.repoName]}),J[51]=K.repoName,J[52]=K.repoOwner,J[53]=$,J[54]=F):F=J[54],J[55]!==ee||J[56]!==Q?.range||J[57]!==K.commitOID||J[58]!==K.path||J[59]!==K.repoName||J[60]!==K.repoOwner?(z=ee&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:K.repoOwner,repo:K.repoName,commitish:K.commitOID,filePath:K.path,lineNumber:Q?.range.start}),children:[ee.totalCount," ",1===ee.totalCount?"contributor":"contributors"]}),J[55]=ee,J[56]=Q?.range,J[57]=K.commitOID,J[58]=K.path,J[59]=K.repoName,J[60]=K.repoOwner,J[61]=z):z=J[61],J[62]!==et||J[63]!==K.repoName||J[64]!==K.repoOwner?(M=et&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:K.repoOwner,repo:K.repoName,commitish:et?.oid}),children:[et?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:et?.date})]}),J[62]=et,J[63]=K.repoName,J[64]=K.repoOwner,J[65]=M):M=J[65],J[66]!==K.range||J[67]!==K.type?(H="snippet"===K.type?(0,o.jsxs)(o.Fragment,{children:["#",K.range.start,"-",K.range.end]}):null,J[66]=K.range,J[67]=K.type,J[68]=H):H=J[68],J[69]!==K.path||J[70]!==K.repoName||J[71]!==K.repoOwner||J[72]!==K.url||J[73]!==H?(U=(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:K.url,children:[K.repoOwner,"/",K.repoName,"/",K.path,H]}),J[69]=K.path,J[70]=K.repoName,J[71]=K.repoOwner,J[72]=K.url,J[73]=H,J[74]=U):U=J[74],J[75]!==F||J[76]!==z||J[77]!==M||J[78]!==U?(W=(0,o.jsxs)(_.O.Details,{children:[F,z,M,U]}),J[75]=F,J[76]=z,J[77]=M,J[78]=U,J[79]=W):W=J[79],J[80]!==Y||J[81]!==X||J[82]!==B||J[83]!==W?(q=(0,o.jsxs)(_.O.Body,{detailsError:Y,detailsLoading:X,children:[B,W]}),J[80]=Y,J[81]=X,J[82]=B,J[83]=W,J[84]=q):q=J[84],J[85]!==N||J[86]!==q?(G=(0,o.jsxs)(_.O.Frame,{children:[N,q]}),J[85]=N,J[86]=q,J[87]=G):G=J[87],G}function O(e){let t,r,n=(0,a.c)(3),{children:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},n[0]=t):t=n[0],n[1]!==i?(r=(0,o.jsx)(v.az,{sx:t,children:i}),n[1]=i,n[2]=r):r=n[2],r}function I(e){let t,r,n,i=(0,a.c)(6),{headerInfo:s}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},i[0]=t):t=i[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return i[1]!==l?(r=(0,o.jsx)("span",{children:l}),i[1]=l,i[2]=r):r=i[2],i[3]!==s.blobSize||i[4]!==r?(n=(0,o.jsx)(v.PA,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:r}),i[3]=s.blobSize,i[4]=r,i[5]=n):n=i[5],n}function D(e){let t,r=(0,a.c)(17),{headerInfo:n}=e;if(r[0]!==n.displayName||r[1]!==n.isLfs||r[2]!==n.rawBlobUrl||r[3]!==n.viewable){let e,a,i,s,l,c,d=new URL(n.rawBlobUrl,f.fV.origin);d.searchParams.set("download",""),r[5]!==n.displayName||r[6]!==n.isLfs||r[7]!==n.rawBlobUrl?(e=async()=>{n.isLfs||await E(n.rawBlobUrl,n.displayName)},r[5]=n.displayName,r[6]=n.isLfs,r[7]=n.rawBlobUrl,r[8]=e):e=r[8],r[9]===Symbol.for("react.memo_cache_sentinel")?(a={borderTopLeftRadius:0,borderBottomLeftRadius:0},r[9]=a):a=r[9],r[10]!==e?(i={"aria-label":"Download raw content",icon:b.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:a},r[10]=e,r[11]=i):i=r[11];let h=i;r[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},r[12]=s):s=r[12];let u=n.viewable?void 0:"true";r[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:P,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},r[13]=l):l=r[13],r[14]!==n.rawBlobUrl||r[15]!==u?(c=(0,o.jsx)(v.z9,{href:n.rawBlobUrl,download:u,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),r[14]=n.rawBlobUrl,r[15]=u,r[16]=c):c=r[16],t=(0,o.jsxs)(v.az,{sx:s,children:[c,n.isLfs?(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...h}):(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,...h})]}),r[0]=n.displayName,r[1]=n.isLfs,r[2]=n.rawBlobUrl,r[3]=n.viewable,r[4]=t}else t=r[4];return t}let k=25,P={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function E(e,t){let r=await fetch(e,{method:"get"}),n=await r.blob(),o=document.createElement("a");o.setAttribute("download",t);let a=URL.createObjectURL(n);o.href=a,o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(a)}try{N.displayName||(N.displayName="CodeReferencePreview")}catch{}try{O.displayName||(O.displayName="BlobPreviewHeader")}catch{}try{I.displayName||(I.displayName="BlobSize")}catch{}try{D.displayName||(D.displayName="RawButtons")}catch{}var R=r(4817);function L(e){let t,r,n,s,l,c,d,h,p,f,g,x,w,y,j,S,C,N,O,I=(0,a.c)(45),{reference:D,detailsLoading:k,detailsError:P,onDismiss:E}=e;I[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(i.m4,{icon:b.GitCommitIcon,sx:{mr:2}}),I[0]=t):t=I[0],I[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},I[1]=r):r=I[1],I[2]!==D.message?(n=(0,o.jsx)(v.az,{sx:r,children:D.message}),I[2]=D.message,I[3]=n):n=I[3],I[4]!==E||I[5]!==n?(s=(0,o.jsxs)(_.O.Header,{onDismiss:E,children:[t,n]}),I[4]=E,I[5]=n,I[6]=s):s=I[6],I[7]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"row",p:3},I[7]=l):l=I[7];let L=`${D.author.login}.png`;return I[8]===Symbol.for("react.memo_cache_sentinel")?(c={mr:2,flexShrink:0},I[8]=c):c=I[8],I[9]!==L?(d=(0,o.jsx)(u.r,{src:L,sx:c}),I[9]=L,I[10]=d):d=I[10],I[11]===Symbol.for("react.memo_cache_sentinel")?(h={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},I[11]=h):h=I[11],I[12]!==D.author.login?(p=(0,o.jsx)(v.az,{sx:h,children:D.author.login}),I[12]=D.author.login,I[13]=p):p=I[13],I[14]!==p||I[15]!==d?(f=(0,o.jsxs)(v.az,{sx:l,children:[d,p]}),I[14]=p,I[15]=d,I[16]=f):f=I[16],I[17]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),I[17]=g):g=I[17],I[18]!==D.message?(x=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(R.To,{markdown:D.message})}),I[18]=D.message,I[19]=x):x=I[19],I[20]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),I[20]=w):w=I[20],I[21]!==D.repository.name||I[22]!==D.repository.owner?(y=(0,m.Do2)({name:D.repository.name,ownerLogin:D.repository.owner}),I[21]=D.repository.name,I[22]=D.repository.owner,I[23]=y):y=I[23],I[24]!==D.repository.name||I[25]!==D.repository.owner||I[26]!==y?(j=(0,o.jsxs)(_.O.DetailLink,{href:y,icon:b.RepoIcon,children:[D.repository.owner,"/",D.repository.name]}),I[24]=D.repository.name,I[25]=D.repository.owner,I[26]=y,I[27]=j):j=I[27],I[28]!==D.oid||I[29]!==D.permalink||I[30]!==D.repository.name||I[31]!==D.repository.owner?(S=(0,o.jsxs)(_.O.DetailLink,{href:D.permalink,icon:b.LinkExternalIcon,children:[D.repository.owner,"/",D.repository.name,"/commit/",D.oid]}),I[28]=D.oid,I[29]=D.permalink,I[30]=D.repository.name,I[31]=D.repository.owner,I[32]=S):S=I[32],I[33]!==j||I[34]!==S?(C=(0,o.jsxs)(_.O.Details,{children:[j,S]}),I[33]=j,I[34]=S,I[35]=C):C=I[35],I[36]!==P||I[37]!==k||I[38]!==f||I[39]!==x||I[40]!==C?(N=(0,o.jsxs)(_.O.Body,{detailsError:P,detailsLoading:k,children:[f,g,x,w,C]}),I[36]=P,I[37]=k,I[38]=f,I[39]=x,I[40]=C,I[41]=N):N=I[41],I[42]!==N||I[43]!==s?(O=(0,o.jsxs)(_.O.Frame,{children:[s,N]}),I[42]=N,I[43]=s,I[44]=O):O=I[44],O}try{L.displayName||(L.displayName="CommitReferencePreview")}catch{}var T=r(59121);let A={SegmentedControl:"MarkdownReferencePreview-module__SegmentedControl--Q7TCz"};function V(e){let t,r,n,i,s,l,c,d,h,f,y,j,S,C,N,O,I,D,k,P,E,R,L=(0,a.c)(65),{reference:T,details:A,detailsLoading:V,detailsError:$,onDismiss:F}=e,{contributors:z}=(0,g.u)(T.repoOwner,T.repoName,T.commitOID,T.path),[M]=(0,x.E)(T.repoOwner,T.repoName,T.commitOID,T.path),H=A?.repoIsOrgOwned,U=`${T.repoOwner}.png`;return L[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},L[0]=t):t=L[0],L[1]!==H||L[2]!==U?(r=(0,o.jsx)(u.r,{square:H,src:U,sx:t}),L[1]=H,L[2]=U,L[3]=r):r=L[3],L[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},L[4]=n):n=L[4],L[5]!==T.repoName||L[6]!==T.repoOwner?(i=(0,o.jsxs)(v.EY,{sx:n,children:[T.repoOwner,"/",T.repoName]}),L[5]=T.repoName,L[6]=T.repoOwner,L[7]=i):i=L[7],L[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[8]=s):s=L[8],L[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},L[9]=l):l=L[9],L[10]!==T.ref?(c=(0,p.gE)(T.ref),L[10]=T.ref,L[11]=c):c=L[11],L[12]!==c?(d=(0,o.jsx)(v.EY,{sx:l,children:c}),L[12]=c,L[13]=d):d=L[13],L[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[14]=h):h=L[14],L[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},L[15]=f):f=L[15],L[16]!==T.path?(y=(0,o.jsx)(v.EY,{sx:f,children:T.path}),L[16]=T.path,L[17]=y):y=L[17],L[18]!==F||L[19]!==d||L[20]!==y||L[21]!==r||L[22]!==i?(j=(0,o.jsxs)(_.O.Header,{onDismiss:F,children:[r,i,s,d,h,y]}),L[18]=F,L[19]=d,L[20]=y,L[21]=r,L[22]=i,L[23]=j):j=L[23],L[24]!==A?(S=A&&(0,o.jsx)(B,{details:A}),L[24]=A,L[25]=S):S=L[25],L[26]!==T.repoName||L[27]!==T.repoOwner?(C=(0,m.Do2)({name:T.repoName,ownerLogin:T.repoOwner}),L[26]=T.repoName,L[27]=T.repoOwner,L[28]=C):C=L[28],L[29]!==T.repoName||L[30]!==T.repoOwner||L[31]!==C?(N=(0,o.jsxs)(_.O.DetailLink,{href:C,icon:b.RepoIcon,children:[T.repoOwner,"/",T.repoName]}),L[29]=T.repoName,L[30]=T.repoOwner,L[31]=C,L[32]=N):N=L[32],L[33]!==z||L[34]!==A?.range||L[35]!==T.commitOID||L[36]!==T.path||L[37]!==T.repoName||L[38]!==T.repoOwner?(O=z&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:T.repoOwner,repo:T.repoName,commitish:T.commitOID,filePath:T.path,lineNumber:A?.range.start}),children:[z.totalCount," contributors"]}),L[33]=z,L[34]=A?.range,L[35]=T.commitOID,L[36]=T.path,L[37]=T.repoName,L[38]=T.repoOwner,L[39]=O):O=L[39],L[40]!==M||L[41]!==T.repoName||L[42]!==T.repoOwner?(I=M&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:T.repoOwner,repo:T.repoName,commitish:M?.oid}),children:[M?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:M?.date})]}),L[40]=M,L[41]=T.repoName,L[42]=T.repoOwner,L[43]=I):I=L[43],L[44]!==A?(D=A?(0,o.jsxs)(o.Fragment,{children:["#",A.range.start,"-",A.range.end]}):null,L[44]=A,L[45]=D):D=L[45],L[46]!==T.path||L[47]!==T.repoName||L[48]!==T.repoOwner||L[49]!==T.url||L[50]!==D?(k=(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:T.url,children:[T.repoOwner,"/",T.repoName,"/",T.path,D]}),L[46]=T.path,L[47]=T.repoName,L[48]=T.repoOwner,L[49]=T.url,L[50]=D,L[51]=k):k=L[51],L[52]!==N||L[53]!==O||L[54]!==I||L[55]!==k?(P=(0,o.jsxs)(_.O.Details,{children:[N,O,I,k]}),L[52]=N,L[53]=O,L[54]=I,L[55]=k,L[56]=P):P=L[56],L[57]!==$||L[58]!==V||L[59]!==S||L[60]!==P?(E=(0,o.jsxs)(_.O.Body,{detailsLoading:V,detailsError:$,children:[S,P]}),L[57]=$,L[58]=V,L[59]=S,L[60]=P,L[61]=E):E=L[61],L[62]!==j||L[63]!==E?(R=(0,o.jsxs)(_.O.Frame,{children:[j,E]}),L[62]=j,L[63]=E,L[64]=R):R=L[64],R}function B(e){let t,r,n,i,s,l,c,d,h,u,m,p,f,g,x,b,w=(0,a.c)(52),{details:y}=e,[S,C]=(0,j.useState)(y.range.start),[N,k]=(0,j.useState)(y.range.end),P=F(y.contents,y.contents.length),[E,L]=(0,j.useState)("preview");w[0]!==E?(t=e=>{let t=["preview","code"][e];t&&E!==t&&L(t)},w[0]=E,w[1]=t):t=w[1];let V=t,B=y?.headerInfo;w[2]!==y.contents||w[3]!==S?(r=()=>{C(function(e,t){let r=z(e,t),n=function(e){let t;for(let r of e)t=r;return t}(e.slice(0,r).matchAll(/^#+\s/gm));return F(e,n?.index??0)}(y.contents,S))},w[2]=y.contents,w[3]=S,w[4]=r):r=w[4];let M=r;w[5]!==y.contents||w[6]!==N||w[7]!==P?(n=()=>{let e=N;for(;e<P&&e<N+10;)e=function(e,t){let r=z(e,t),n=e.slice(r).match(/^#+\s/m),o=n?r+n.index:e.length;return F(e,o)}(y.contents,e+1);k(e-1)},w[5]=y.contents,w[6]=N,w[7]=P,w[8]=n):n=w[8];let H=n,U=y.contents;if(S){let e;if(w[9]!==N||w[10]!==U||w[11]!==S){let e=function(e,t,r=t-1){let n=-1,o=-1,a=-1;for(let i=1;;i++){if(i===t&&(o=n+1),i===r+1){a=n;break}if(-1===(n=e.indexOf(`
`,n+1)))break}return{startIndex:o,endIndex:a}}(U,S,N);e.endIndex>-1&&(U=U.slice(e.startIndex,e.endIndex)),w[9]=N,w[10]=U,w[11]=S,w[12]=U}else U=w[12];if(w[13]!==U){let t;w[15]===Symbol.for("react.memo_cache_sentinel")?(t=/^---\n[\s\S]*?\n---\n/,w[15]=t):t=w[15],e=U.replace(t,""),w[13]=U,w[14]=e}else e=w[14];U=e}let W=U;w[16]===Symbol.for("react.memo_cache_sentinel")?(i={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},w[16]=i):i=w[16],w[17]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"baseline",gap:2},w[17]=s):s=w[17];let q="preview"===E;w[18]!==q?(l=(0,o.jsx)(T.I.Button,{selected:q,children:"Preview"},"preview'"),w[18]=q,w[19]=l):l=w[19];let G="code"===E;return w[20]!==G?(c=(0,o.jsx)(T.I.Button,{selected:G,children:"Code"},"raw"),w[20]=G,w[21]=c):c=w[21],w[22]!==V||w[23]!==l||w[24]!==c?(d=(0,o.jsxs)(T.I,{"aria-label":"File view",size:"small",onChange:V,className:A.SegmentedControl,children:[l,c]}),w[22]=V,w[23]=l,w[24]=c,w[25]=d):d=w[25],w[26]!==B?(h=B&&(0,o.jsx)(I,{headerInfo:B}),w[26]=B,w[27]=h):h=w[27],w[28]!==d||w[29]!==h?(u=(0,o.jsxs)(v.az,{sx:s,children:[d,h]}),w[28]=d,w[29]=h,w[30]=u):u=w[30],w[31]!==B?(m=B&&(0,o.jsx)(D,{headerInfo:B}),w[31]=B,w[32]=m):m=w[32],w[33]!==u||w[34]!==m?(p=(0,o.jsxs)(O,{children:[u,m]}),w[33]=u,w[34]=m,w[35]=p):p=w[35],w[36]!==M||w[37]!==S?(f=S>1&&(0,o.jsx)(_.O.ContentExpander,{direction:"above",onExpand:M}),w[36]=M,w[37]=S,w[38]=f):f=w[38],w[39]!==y.contents||w[40]!==E||w[41]!==W?(g=(0,o.jsx)(_.O.Content,{children:"preview"===E?(0,o.jsx)(v.az,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:$}},children:(0,o.jsx)(R.To,{markdown:W,openLinksInCurrentTab:!1})}):(0,o.jsx)("code",{children:(0,o.jsx)(v.az,{as:"pre",sx:{overflowX:"auto"},children:y.contents})})}),w[39]=y.contents,w[40]=E,w[41]=W,w[42]=g):g=w[42],w[43]!==N||w[44]!==H||w[45]!==P?(x=N<P&&(0,o.jsx)(_.O.ContentExpander,{direction:"below",onExpand:H}),w[43]=N,w[44]=H,w[45]=P,w[46]=x):x=w[46],w[47]!==p||w[48]!==f||w[49]!==g||w[50]!==x?(b=(0,o.jsxs)(v.az,{sx:i,children:[p,f,g,x]}),w[47]=p,w[48]=f,w[49]=g,w[50]=x,w[51]=b):b=w[51],b}function $(e){return`${e.colors.accent.subtle}`}function F(e,t){return function(e){let t=0;for(let r of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function z(e,t){if(1===t)return 0;let r=-1;for(let n=2;n<=t;n++)if(-1===(r=e.indexOf(`
`,r+1)))return e.length;return r+1}try{V.displayName||(V.displayName="MarkdownReferencePreview")}catch{}try{B.displayName||(B.displayName="MarkdownReferencePreviewContent")}catch{}function M(e){let t,r,n,s,l,c,d,h,p,f,g,x,w,y,j,S,C,N,O,I=(0,a.c)(42),{reference:D,detailsLoading:k,detailsError:P,onDismiss:E}=e;I[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(i.m4,{icon:b.GitCommitIcon,sx:{mr:2}}),I[0]=t):t=I[0],I[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},I[1]=r):r=I[1],I[2]!==D.title?(n=(0,o.jsx)(v.az,{sx:r,children:D.title}),I[2]=D.title,I[3]=n):n=I[3],I[4]!==E||I[5]!==n?(s=(0,o.jsxs)(_.O.Header,{onDismiss:E,children:[t,n]}),I[4]=E,I[5]=n,I[6]=s):s=I[6],I[7]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"row",p:3},I[7]=l):l=I[7];let L=`${D.authorLogin}.png`;return I[8]===Symbol.for("react.memo_cache_sentinel")?(c={mr:2,flexShrink:0},I[8]=c):c=I[8],I[9]!==L?(d=(0,o.jsx)(u.r,{src:L,sx:c}),I[9]=L,I[10]=d):d=I[10],I[11]===Symbol.for("react.memo_cache_sentinel")?(h={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},I[11]=h):h=I[11],I[12]!==D.authorLogin?(p=(0,o.jsx)(v.az,{sx:h,children:D.authorLogin}),I[12]=D.authorLogin,I[13]=p):p=I[13],I[14]!==p||I[15]!==d?(f=(0,o.jsxs)(v.az,{sx:l,children:[d,p]}),I[14]=p,I[15]=d,I[16]=f):f=I[16],I[17]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),I[17]=g):g=I[17],I[18]!==D.title?(x=(0,o.jsx)(_.O.Content,{children:(0,o.jsx)(R.To,{markdown:D.title})}),I[18]=D.title,I[19]=x):x=I[19],I[20]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),I[20]=w):w=I[20],I[21]!==D.repository.name||I[22]!==D.repository.ownerLogin?(y=(0,m.Do2)({name:D.repository.name,ownerLogin:D.repository.ownerLogin}),I[21]=D.repository.name,I[22]=D.repository.ownerLogin,I[23]=y):y=I[23],I[24]!==D.repository.name||I[25]!==D.repository.ownerLogin||I[26]!==y?(j=(0,o.jsxs)(_.O.DetailLink,{href:y,icon:b.RepoIcon,children:[D.repository.ownerLogin,"/",D.repository.name]}),I[24]=D.repository.name,I[25]=D.repository.ownerLogin,I[26]=y,I[27]=j):j=I[27],I[28]!==D.url?(S=(0,o.jsx)(_.O.DetailLink,{href:D.url,icon:b.LinkExternalIcon,children:D.url}),I[28]=D.url,I[29]=S):S=I[29],I[30]!==j||I[31]!==S?(C=(0,o.jsxs)(_.O.Details,{children:[j,S]}),I[30]=j,I[31]=S,I[32]=C):C=I[32],I[33]!==P||I[34]!==k||I[35]!==f||I[36]!==x||I[37]!==C?(N=(0,o.jsxs)(_.O.Body,{detailsError:P,detailsLoading:k,children:[f,g,x,w,C]}),I[33]=P,I[34]=k,I[35]=f,I[36]=x,I[37]=C,I[38]=N):N=I[38],I[39]!==N||I[40]!==s?(O=(0,o.jsxs)(_.O.Frame,{children:[s,N]}),I[39]=N,I[40]=s,I[41]=O):O=I[41],O}try{M.displayName||(M.displayName="PullRequestReferencePreview")}catch{}function H(e){let t,r,n,i,s=(0,a.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:h,onDismiss:u}=e,p=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let y=[...p.values()][0]?.[0]??[...f.values()][0]?.[0],v=p.size>0,j=f.size>0,S=[...p.values()].length,C=[...p.values()].reduce(J,0),N=[...f.values()].length,O=[...f.values()].reduce(G,0),{contributors:I}=(0,g.u)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),[D]=(0,x.E)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),k=_.O;s[0]!==u||s[1]!==l.name?(t=(0,o.jsx)(_.O.Header,{onDismiss:u,children:l.name}),s[0]=u,s[1]=l.name,s[2]=t):t=s[2];let P=_.O,E=v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_.O.SectionDivider,{children:[C," ",1===C?"definition":"definitions",S>1?` across ${S} files`:null]}),[...p.values()].map(W)]}),R=j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_.O.SectionDivider,{children:[O," ",1===O?"reference":"references",N>1?` across ${N} files`:null]}),[...f.values()].map((e,t)=>(0,o.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!v,children:(0,o.jsx)(_.O.Content,{children:e.map(U)})},e[0].path))]}),L=_.O,T=y&&(0,o.jsxs)(_.O.DetailLink,{href:(0,m.Do2)({name:y.repoName,ownerLogin:y.repoOwner}),icon:b.RepoIcon,children:[y.repoOwner,"/",y.repoName]}),A=I&&y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=D&&y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:y.repoOwner,repo:y.repoName,commitish:D?.oid}),children:[D?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:D?.date})]}),B=y&&(0,o.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:(0,m.nD_)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[y.repoOwner,"/",y.repoName,"/",y.path]});return s[3]!==B||s[4]!==L.Details||s[5]!==T||s[6]!==A||s[7]!==V?(r=(0,o.jsxs)(L.Details,{children:[T,A,V,B]}),s[3]=B,s[4]=L.Details,s[5]=T,s[6]=A,s[7]=V,s[8]=r):r=s[8],s[9]!==h||s[10]!==d||s[11]!==r||s[12]!==P.Body||s[13]!==E||s[14]!==R?(n=(0,o.jsxs)(P.Body,{detailsError:h,detailsLoading:d,children:[E,R,r]}),s[9]=h,s[10]=d,s[11]=r,s[12]=P.Body,s[13]=E,s[14]=R,s[15]=n):n=s[15],s[16]!==k.Frame||s[17]!==n||s[18]!==t?(i=(0,o.jsxs)(k.Frame,{children:[t,n]}),s[16]=k.Frame,s[17]=n,s[18]=t,s[19]=i):i=s[19],i}function U(e,t){return e.highlightedContents?(0,o.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:K(e)},t):null}function W(e,t){return(0,o.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,o.jsx)(_.O.Content,{children:e.map(q)})},e[0].path)}function q(e,t){return e.highlightedContents?(0,o.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:K(e)},t):null}function G(e,t){return e+t.length}function J(e,t){return e+t.length}function K({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,r)=>e.start+r):[]}try{H.displayName||(H.displayName="SymbolReferencePreview")}catch{}function Q(e){let t,r,n,i,s,l,c,d,h,p,f,y,j,S,C=(0,a.c)(48),{reference:N,details:O,detailsLoading:I,detailsError:D,onDismiss:k}=e,P=N.headFile??N.baseFile,{contributors:E}=(0,g.u)(P.repoOwner,P.repoName,P.commitOID,P.path),[R]=(0,x.E)(P.repoOwner,P.repoName,P.commitOID,P.path);C[0]!==N?(t=(e=>{let t,r=(t=e.selectedRange,t?.start?t.end?`${t.start}-${t.end}`:`${t.start}`:""),n=e.url.split(window.location.host)[1];return{href:e.url+r,path:n+r,range:r}})(N),C[0]=N,C[1]=t):t=C[1];let{href:L,path:T,range:A}=t,V=O?.repoIsOrgOwned,B=`${P.repoOwner}.png`;return C[2]===Symbol.for("react.memo_cache_sentinel")?(r={mr:2,flexShrink:0},C[2]=r):r=C[2],C[3]!==V||C[4]!==B?(n=(0,o.jsx)(u.r,{square:V,src:B,sx:r}),C[3]=V,C[4]=B,C[5]=n):n=C[5],C[6]===Symbol.for("react.memo_cache_sentinel")?(i={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},C[6]=i):i=C[6],C[7]!==P.path||C[8]!==P.repoName||C[9]!==P.repoOwner||C[10]!==A?(s=(0,o.jsxs)(v.az,{sx:i,children:[P.repoOwner,"/",P.repoName,"/",P.path," ",A]}),C[7]=P.path,C[8]=P.repoName,C[9]=P.repoOwner,C[10]=A,C[11]=s):s=C[11],C[12]!==k||C[13]!==n||C[14]!==s?(l=(0,o.jsxs)(_.O.Header,{onDismiss:k,children:[n,s]}),C[12]=k,C[13]=n,C[14]=s,C[15]=l):l=C[15],C[16]!==P.repoName||C[17]!==P.repoOwner?(c=(0,m.Do2)({name:P.repoName,ownerLogin:P.repoOwner}),C[16]=P.repoName,C[17]=P.repoOwner,C[18]=c):c=C[18],C[19]!==P.repoName||C[20]!==P.repoOwner||C[21]!==c?(d=(0,o.jsxs)(_.O.DetailLink,{href:c,icon:b.RepoIcon,children:[P.repoOwner,"/",P.repoName]}),C[19]=P.repoName,C[20]=P.repoOwner,C[21]=c,C[22]=d):d=C[22],C[23]!==P.commitOID||C[24]!==P.path||C[25]!==P.repoName||C[26]!==P.repoOwner||C[27]!==E?(h=E&&(0,o.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:P.repoOwner,repo:P.repoName,commitish:P.commitOID,filePath:P.path}),children:[E.totalCount," ",1===E.totalCount?"contributor":"contributors"]}),C[23]=P.commitOID,C[24]=P.path,C[25]=P.repoName,C[26]=P.repoOwner,C[27]=E,C[28]=h):h=C[28],C[29]!==P.repoName||C[30]!==P.repoOwner||C[31]!==R?(p=R&&(0,o.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:P.repoOwner,repo:P.repoName,commitish:R?.oid}),children:[R?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:R?.date})]}),C[29]=P.repoName,C[30]=P.repoOwner,C[31]=R,C[32]=p):p=C[32],C[33]!==L||C[34]!==T?(f=(0,o.jsx)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:L,children:T}),C[33]=L,C[34]=T,C[35]=f):f=C[35],C[36]!==d||C[37]!==h||C[38]!==p||C[39]!==f?(y=(0,o.jsxs)(_.O.Details,{children:[d,h,p,f]}),C[36]=d,C[37]=h,C[38]=p,C[39]=f,C[40]=y):y=C[40],C[41]!==D||C[42]!==I||C[43]!==y?(j=(0,o.jsx)(_.O.Body,{detailsError:D,detailsLoading:I,children:y}),C[41]=D,C[42]=I,C[43]=y,C[44]=j):j=C[44],C[45]!==j||C[46]!==l?(S=(0,o.jsxs)(_.O.Frame,{children:[l,j]}),C[45]=j,C[46]=l,C[47]=S):S=C[47],S}try{Q.displayName||(Q.displayName="FileDiffReferencePreview")}catch{}var X=r(41738);function Y(e){let t,r=(0,a.c)(6),{dismissable:n}=e,{reference:i,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=ee(),h=n?d:void 0;return r[0]!==s||r[1]!==c||r[2]!==l||r[3]!==i||r[4]!==h?(t=(0,o.jsx)(Z,{reference:i,details:s,detailsLoading:l,detailsError:c,onDismiss:h}),r[0]=s,r[1]=c,r[2]=l,r[3]=i,r[4]=h,r[5]=t):t=r[5],t}function Z(e){let t=(0,a.c)(46),{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l}=e;switch(r.type){case"symbol":{let e,a;return t[0]!==r?(e=(0,d.Vb)(r),t[0]=r,t[1]=e):e=t[1],t[2]!==s||t[3]!==i||t[4]!==l||t[5]!==r||t[6]!==e||t[7]!==n?(a=(0,o.jsx)(H,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=i,t[4]=l,t[5]=r,t[6]=e,t[7]=n,t[8]=a):a=t[8],a}case"file":case"snippet":{let e;return t[9]!==n||t[10]!==s||t[11]!==i||t[12]!==l||t[13]!==r?(e="Markdown"===r.languageName?(0,o.jsx)(V,{reference:r,details:n,detailsError:s,detailsLoading:i,onDismiss:l},(0,d.Vb)(r)):(0,o.jsx)(N,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},(0,d.Vb)(r)),t[9]=n,t[10]=s,t[11]=i,t[12]=l,t[13]=r,t[14]=e):e=t[14],e}case"file-diff":{let e,a;return t[15]!==r?(e=(0,d.Vb)(r),t[15]=r,t[16]=e):e=t[16],t[17]!==s||t[18]!==i||t[19]!==l||t[20]!==r||t[21]!==e||t[22]!==n?(a=(0,o.jsx)(Q,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=i,t[19]=l,t[20]=r,t[21]=e,t[22]=n,t[23]=a):a=t[23],a}case"commit":{let e,n;return t[24]!==r?(e=(0,d.Vb)(r),t[24]=r,t[25]=e):e=t[25],t[26]!==s||t[27]!==i||t[28]!==l||t[29]!==r||t[30]!==e?(n=(0,o.jsx)(L,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=i,t[28]=l,t[29]=r,t[30]=e,t[31]=n):n=t[31],n}case"pull-request":{let e,n;return t[32]!==r?(e=(0,d.Vb)(r),t[32]=r,t[33]=e):e=t[33],t[34]!==s||t[35]!==i||t[36]!==l||t[37]!==r||t[38]!==e?(n=(0,o.jsx)(M,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=i,t[36]=l,t[37]=r,t[38]=e,t[39]=n):n=t[39],n}case"web-search":{let e,n;return t[40]!==r?(e=(0,d.Vb)(r),t[40]=r,t[41]=e):e=t[41],t[42]!==l||t[43]!==r||t[44]!==e?(n=(0,o.jsx)(X.I,{reference:r,onDismiss:l},e),t[42]=l,t[43]=r,t[44]=e,t[45]=n):n=t[45],n}default:return null}}function ee(){let e,t,r,n,o,i,s=(0,a.c)(19),u=(0,c.b)(),m=(0,l.Pk)().selectedReference,p=m?.type;s[0]!==m?(e=m?(0,d.Vb)(m):void 0,s[0]=m,s[1]=e):e=s[1],s[2]!==p||s[3]!==e?(t=["copilot-reference-preview","copilot","references",p,e],s[2]=p,s[3]=e,s[4]=t):t=s[4],s[5]!==u||s[6]!==m?(r=async()=>{if(!m)return null;let e=await u.service.hydrateReference(m);return e.ok?e.payload:null},s[5]=u,s[6]=m,s[7]=r):r=s[7],s[8]!==t||s[9]!==r?(n={queryKey:t,queryFn:r,staleTime:5e-324},s[8]=t,s[9]=r,s[10]=n):n=s[10];let{isLoading:f,isError:g,data:x}=(0,h.I)(n);s[11]!==u?(o=()=>u.selectReference(null),s[11]=u,s[12]=o):o=s[12];let b=o,w=x??void 0;return s[13]!==b||s[14]!==g||s[15]!==f||s[16]!==m||s[17]!==w?(i={reference:m,dismissReference:b,details:w,detailsLoading:f,detailsError:g},s[13]=b,s[14]=g,s[15]=f,s[16]=m,s[17]=w,s[18]=i):i=s[18],i}try{Y.displayName||(Y.displayName="CopilotReferencePreview")}catch{}try{Z.displayName||(Z.displayName="CopilotReferencePreviewImpl")}catch{}function et(){var e;let t,r,n,l,c,d=(0,a.c)(13),{dismissReference:h,reference:u}=ee(),{screenSize:m}=(0,s.lm)(),p=m<s.Gy.large;d[0]!==u?(e=u,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=u,d[1]=t):t=d[1];let f=t,g=!!u;return d[2]!==p?(r={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...p?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=p,d[3]=r):r=d[3],d[4]!==f?(n=(0,o.jsx)(i.lG.Header,{children:f}),d[4]=f,d[5]=n):n=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(Y,{}),d[6]=l):l=d[6],d[7]!==h||d[8]!==g||d[9]!==r||d[10]!==n||d[11]!==f?(c=(0,o.jsxs)(i.lG,{"aria-label":f,isOpen:g,onDismiss:h,sx:r,children:[n,l]}),d[7]=h,d[8]=g,d[9]=r,d[10]=n,d[11]=f,d[12]=c):c=d[12],c}try{et.displayName||(et.displayName="CopilotReferencePreviewDialog")}catch{}var er=r(53627),en=r(53419),eo=r(26865),ea=r(30721),ei=r(96379),es=r(29295),el=r(21373),ec=r(55255),ed=r(34164),eh=r(18312),eu=r(13171),em=r(69599),ep=r(83494),ef=r(96459),eg=r(63307),ex=r(26239),eb=r(57448),ew=r(79064),ey=r(72303);let ev={copilotChatPanel:"ChatPanel-module__copilotChatPanel--Olv4b",openChat:"ChatPanel-module__openChat--FRUxy",ChatPanelContainer:"ChatPanel-module__ChatPanelContainer--qsaKi",verticalResizeTarget:"ChatPanel-module__verticalResizeTarget--YNU6i",horizontalResizeTarget:"ChatPanel-module__horizontalResizeTarget--s5u6t",cornerResizeTarget:"ChatPanel-module__cornerResizeTarget--WmiTb",panelContentContainer:"ChatPanel-module__panelContentContainer--nx0He"},ej={FloatingButtonContainer:"FloatingButton-module__FloatingButtonContainer--gD0z9"},e_=()=>{let e,t,r=(0,a.c)(7),n=(0,l.Pk)(),i=(0,c.b)();r[0]!==n?(e=(0,ey.W)(n),r[0]=n,r[1]=e):e=r[1];let s=e;return r[2]!==i||r[3]!==n.chatVisibleSettingPath||r[4]!==n.currentView||r[5]!==s?(t=(0,o.jsx)(y.K,{tabIndex:-1,id:"copilot-floating-button",icon:b.CopilotIcon,"aria-label":"Open Copilot chat","aria-controls":ex.wJ,tooltipDirection:"w",onClick:()=>{i.openChat(s,n.currentView,"floating-button-v2",n.chatVisibleSettingPath)},"data-hotkey":"Shift+Z",className:ej.FloatingButtonContainer}),r[2]=i,r[3]=n.chatVisibleSettingPath,r[4]=n.currentView,r[5]=s,r[6]=t):t=r[6],t};try{e_.displayName||(e_.displayName="FloatingButton")}catch{}var eS=r(35673);let eC=e=>{let t,r,n,i,s,h,u,m=(0,a.c)(27),{children:p,initialFocusRef:f,staffDialogRef:g,handleClose:x,panelWidth:b,panelHeight:w,startResize:y,onResizerKeyDown:_}=e,S=(0,l.Pk)(),{chatIsOpen:C,chatIsVisible:N,currentTopic:O}=S,I=S.entryPointId??ex.fv,D=(0,j.useRef)(null),k=(0,j.useRef)(null);m[0]!==I?(t=()=>{k.current=document.getElementById(I)},r=[I],m[0]=I,m[1]=t,m[2]=r):(t=m[1],r=m[2]),(0,j.useEffect)(t,r),m[3]!==x?(n=()=>{D.current&&D.current.contains(document.activeElement)&&x(!0)},m[3]=x,m[4]=n):n=m[4];let P=n,E=(0,c.b)();m[5]!==S?(i=(0,ey.W)(S),m[5]=S,m[6]=i):i=m[6];let R=i,L=(0,ef.Z)();m[7]!==O||m[8]!==L||m[9]!==S.currentReferences||m[10]!==R?(s=()=>{(0,en.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),ew.Jt.setCurrentReferences(R?.id??null,S.currentReferences),R?L(`${d.Jz}/c/${R.id}`):O&&(0,d.Z6)(O)?L(`${d.Jz}/r/${O.ownerLogin}/${O.name}`):L(d.Jz)},m[7]=O,m[8]=L,m[9]=S.currentReferences,m[10]=R,m[11]=s):s=m[11];let T=s;return m[12]!==C||m[13]!==N||m[14]!==p||m[15]!==f||m[16]!==E||m[17]!==T||m[18]!==P||m[19]!==_||m[20]!==w||m[21]!==b||m[22]!==g||m[23]!==y?(h=C?(0,o.jsxs)(eg.Ay,{id:ex.wJ,className:(0,ed.$)(ev.copilotChatPanel,C&&ev.openChat),ref:D,portalContainerName:(0,em.G7)("primer_react_unified_portal_root")?void 0:eS.Gj,onEscape:P,onClickOutside:eN,ignoreClickRefs:[g],initialFocusRef:f,returnFocusRef:k,style:{"--panel-width":`${b}px`,"--panel-height":`${w}px`,"--panel-min-height":`${eb.cx}px`,"--panel-min-width":`${eb.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":ex.Qs,children:[(0,o.jsx)(ep.ak,{commands:{"copilot-chat:close-assistive":()=>E.closeChat()}}),(0,o.jsx)(ep.tL,{commands:{"copilot-chat:continue-in-immersive":T},children:(0,o.jsx)("section",{id:ex.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,o.jsxs)("div",{"data-testid":ex.Qs,className:ev.ChatPanelContainer,children:[(0,o.jsx)(v.az,{id:"vertical-resize-click-target",sx:{cursor:C?"ns-resize":void 0},onMouseDown:e=>y(e,!1,!0),className:ev.verticalResizeTarget}),(0,o.jsx)(v.az,{sx:{cursor:C?"ew-resize":void 0},onMouseDown:e=>y(e,!0,!1),className:ev.horizontalResizeTarget}),(0,o.jsx)(v.az,{sx:{cursor:C?"nwse-resize":"undefined"},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${w}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>y(e,!0,!0),tabIndex:0,onKeyDown:_,className:ev.cornerResizeTarget}),(0,o.jsx)("div",{className:ev.panelContentContainer,children:p})]})})})]}):N&&!(0,em.G7)("copilot_no_floating_button")?(0,o.jsx)(e_,{}):null,m[12]=C,m[13]=N,m[14]=p,m[15]=f,m[16]=E,m[17]=T,m[18]=P,m[19]=_,m[20]=w,m[21]=b,m[22]=g,m[23]=y,m[24]=h):h=m[24],m[25]!==h?(u=(0,o.jsx)(o.Fragment,{children:h}),m[25]=h,m[26]=u):u=m[26],u};try{eC.displayName||(eC.displayName="ChatPanel")}catch{}function eN(){}var eO=r(54589),eI=r(11083),eD=r(81960),ek=r(26607),eP=r(27042),eE=r(5524),eR=r(51213),eL=r(35247),eT=r(17005);let eA={HeaderContainer:"Header-module__HeaderContainer--rObkM",headerTitleContainer:"Header-module__headerTitleContainer--Dl484",HeaderTitle:"Header-module__HeaderTitle--fAPdx",headerActions:"Header-module__headerActions--YEgVs",betaLabel:"Header-module__betaLabel--oV8Ou",actionButton:"Header-module__actionButton--Zt7jn",buttonSeparator:"Header-module__buttonSeparator--W8lbr"};var eV=r(87255),eB=r(86877),e$=r(57352),eF=r(99511),ez=r(56149),eM=r(15220),eH=r(44902);let eU={dialogContentContainer:"ExperimentsDialog-module__dialogContentContainer--mWDus",experimentsInput:"ExperimentsDialog-module__experimentsInput--Uko5H"},eW=e=>{let t,r,n,i,s,l,c,d,h,u,m,p,f,g=(0,a.c)(29),{onDismiss:x,experimentsDialogRef:b}=e,[w,y]=(0,j.useState)(eq),[v,_]=(0,j.useState)(void 0),S=(0,j.useRef)("\u200B");g[0]!==w||g[1]!==x?(t=()=>{let e=[];for(let t of w.split(","))if(""!==t.trim()){if(2!==t.split("=").length){_(`Invalid experiment key=value pair${S.current}`),S.current=S.current+"\u200B";return}_(""),e.push(t)}(0,eH.R)(e),x()},g[0]=w,g[1]=x,g[2]=t):t=g[2];let C=t;return g[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(eB.A.Label,{children:"Experiments"}),g[3]=r):r=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("code",{children:"key=value"}),g[4]=n):n=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)(eB.A.Caption,{children:(0,o.jsxs)("span",{children:["List experiments as comma separated ",n," pairs. To see available experiments,"," ",(0,o.jsx)(e$.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),g[5]=i):i=g[5],g[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>y(e.target.value),g[6]=s):s=g[6],g[7]!==C?(l=e=>{"Enter"===e.key&&C()},g[7]=C,g[8]=l):l=g[8],g[9]!==w||g[10]!==l?(c=(0,o.jsx)(eF.A,{"aria-label":"Experiments",name:"experiments",value:w,onChange:s,onKeyDown:l,className:eU.experimentsInput}),g[9]=w,g[10]=l,g[11]=c):c=g[11],g[12]!==v?(d=v&&(0,o.jsx)(eB.A.Validation,{variant:"error",children:v}),g[12]=v,g[13]=d):d=g[13],g[14]!==c||g[15]!==d?(h=(0,o.jsx)(eM.l.Body,{children:(0,o.jsx)("div",{className:eU.dialogContentContainer,children:(0,o.jsxs)(eB.A,{children:[r,i,c,d]})})}),g[14]=c,g[15]=d,g[16]=h):h=g[16],g[17]!==x?(u={type:"button",onClick:x,content:"Cancel"},g[17]=x,g[18]=u):u=g[18],g[19]!==C?(m={type:"button",onClick:C,content:"Save",buttonType:"primary"},g[19]=C,g[20]=m):m=g[20],g[21]!==u||g[22]!==m?(p=(0,o.jsx)(eM.l.Footer,{children:(0,o.jsx)(eM.l.Buttons,{buttons:[u,m]})}),g[21]=u,g[22]=m,g[23]=p):p=g[23],g[24]!==b||g[25]!==x||g[26]!==p||g[27]!==h?(f=(0,o.jsx)(ez.ZL,{children:(0,o.jsxs)(eM.l,{ref:b,onClose:x,title:"Experiments",width:"xlarge",children:[h,p]})}),g[24]=b,g[25]=x,g[26]=p,g[27]=h,g[28]=f):f=g[28],f};try{eW.displayName||(eW.displayName="ExperimentsDialog")}catch{}function eq(){return(0,eH.f)().join(",")}var eG=r(4175),eJ=r(46251),eK=r(85558);let eQ={Dialog:"PromptDialog-module__Dialog--gvqi7",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--JIAZO",temperatureFormControl:"PromptDialog-module__temperatureFormControl--oJoQJ",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--jFBxE",deleteToolButton:"PromptDialog-module__deleteToolButton--PRDPZ"},eX=e=>{let t,r,n,i,s,l,d,h,u,m,p,f,g,x,w,v,_,S,C,N,O,I,D,k=(0,a.c)(53),{onDismiss:P,promptDialogRef:E}=e,R=(0,c.b)(),L=ew.Jt.settings,[T,A]=(0,j.useState)(L?.instructionPrompt||void 0);k[0]===Symbol.for("react.memo_cache_sentinel")?(t=L?.skillOverrides??[],k[0]=t):t=k[0];let[V,B]=(0,j.useState)(t),[$,F]=(0,j.useState)(L?.temperature||.7),z=(0,j.useRef)(void 0);k[1]!==R||k[2]!==P||k[3]!==T||k[4]!==$||k[5]!==V?(r=()=>{let e=V.filter(eY);R.setCopilotSettings({instructionPrompt:T||"",skillOverrides:e,temperature:$}),P()},k[1]=R,k[2]=P,k[3]=T,k[4]=$,k[5]=V,k[6]=r):r=k[6];let M=r;k[7]!==R?(n=async()=>{if(z.current)return void A(z.current);let e=await R.getSystemPrompt();z.current=e,A(e)},k[7]=R,k[8]=n):n=k[8];let H=n;k[9]!==H||k[10]!==T?(i=()=>{(async()=>{void 0===T&&await H()})()},k[9]=H,k[10]=T,k[11]=i):i=k[11],k[12]!==H||k[13]!==R||k[14]!==T?(s=[H,R,T],k[12]=H,k[13]=R,k[14]=T,k[15]=s):s=k[15],(0,j.useEffect)(i,s),k[16]!==H?(l=()=>{H(),B([]),F(.7)},k[16]=H,k[17]=l):l=k[17];let U=l;return k[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,o.jsx)(eB.A.Label,{children:"System Instructions"}),k[18]=d):d=k[18],k[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(eB.A.Caption,{children:(0,o.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),k[19]=h):h=k[19],k[20]===Symbol.for("react.memo_cache_sentinel")?(u=e=>A(e.target.value),k[20]=u):u=k[20],k[21]!==T?(m=(0,o.jsxs)(eB.A,{children:[d,h,(0,o.jsx)(eG.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:T,onChange:u,className:eQ.systemInstructionsTextarea})]}),k[21]=T,k[22]=m):m=k[22],k[23]===Symbol.for("react.memo_cache_sentinel")?(p=(0,o.jsx)(eB.A.Label,{children:"Temperature"}),f=(0,o.jsx)(eB.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),k[23]=p,k[24]=f):(p=k[23],f=k[24]),k[25]===Symbol.for("react.memo_cache_sentinel")?(g=e=>F(Number(e.target.value)),k[25]=g):g=k[25],k[26]!==$?(x=(0,o.jsxs)(eB.A,{className:eQ.temperatureFormControl,children:[p,f,(0,o.jsx)(eF.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:$,onChange:g})]}),k[26]=$,k[27]=x):x=k[27],k[28]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)("div",{className:eQ.toolsSectionHeader,children:"Tools"}),k[28]=w):w=k[28],k[29]!==V?(v=V.map((e,t)=>(0,o.jsxs)(j.Fragment,{children:[(0,o.jsxs)(eJ.B,{direction:"horizontal",className:"py-2",children:[(0,o.jsxs)(eB.A,{children:[(0,o.jsx)(eB.A.Label,{children:"Name"}),(0,o.jsx)(eB.A.Caption,{children:(0,o.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,o.jsx)(eF.A,{defaultValue:e.slug,onChange:e=>{V.map((r,n)=>{n===t&&(r.slug=e.target.value)})}})]}),(0,o.jsxs)(eB.A,{children:[(0,o.jsx)(eB.A.Label,{children:"Description"}),(0,o.jsx)(eB.A.Caption,{children:(0,o.jsx)("span",{children:"Make changes to the tool description"})}),(0,o.jsx)(eF.A,{defaultValue:e.description,onChange:r=>{V.map((n,o)=>{o===t&&(e.description=r.target.value)})}})]}),(0,o.jsxs)(eB.A,{children:[(0,o.jsx)(eB.A.Label,{id:"toggle",children:"Enabled?"}),(0,o.jsx)(eK.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{V.map((r,n)=>{n===t&&(r.enabled=e)})}})]}),(0,o.jsx)(y.K,{icon:b.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...V];1===V.length?B([]):(e.splice(t,1),B(e))},className:eQ.deleteToolButton})]}),t===V.length-1&&(0,o.jsx)(el.Q,{leadingVisual:(0,o.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),k[29]=V,k[30]=v):v=k[30],k[31]!==V?(_=0===V.length&&(0,o.jsx)(el.Q,{leadingVisual:(0,o.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),k[31]=V,k[32]=_):_=k[32],k[33]!==m||k[34]!==x||k[35]!==v||k[36]!==_?(S=(0,o.jsxs)(eM.l.Body,{children:[m,x,w,v,_]}),k[33]=m,k[34]=x,k[35]=v,k[36]=_,k[37]=S):S=k[37],k[38]!==P?(C={type:"button",onClick:P,content:"Cancel"},k[38]=P,k[39]=C):C=k[39],k[40]!==U?(N={type:"button",onClick:U,content:"Reset"},k[40]=U,k[41]=N):N=k[41],k[42]!==M?(O={type:"button",onClick:M,content:"Save",buttonType:"primary"},k[42]=M,k[43]=O):O=k[43],k[44]!==C||k[45]!==N||k[46]!==O?(I=(0,o.jsx)(eM.l.Footer,{children:(0,o.jsx)(eM.l.Buttons,{buttons:[C,N,O]})}),k[44]=C,k[45]=N,k[46]=O,k[47]=I):I=k[47],k[48]!==P||k[49]!==E||k[50]!==S||k[51]!==I?(D=(0,o.jsx)(ez.ZL,{children:(0,o.jsxs)(eM.l,{ref:E,onClose:P,title:"Prompt Settings",width:"xlarge",className:eQ.Dialog,children:[S,I]})}),k[48]=P,k[49]=E,k[50]=S,k[51]=I,k[52]=D):D=k[52],D};try{eX.displayName||(eX.displayName="PromptDialog")}catch{}function eY(e){return e.slug&&e.description}let eZ=e=>{let t,r,n,i=(0,a.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return i[0]!==s||i[1]!==l||i[2]!==c?(t=s===eR.hs.Experiments&&(0,o.jsx)(eW,{experimentsDialogRef:c,onDismiss:l}),i[0]=s,i[1]=l,i[2]=c,i[3]=t):t=i[3],i[4]!==s||i[5]!==l||i[6]!==c?(r=s===eR.hs.Prompt&&(0,o.jsx)(eX,{promptDialogRef:c,onDismiss:l}),i[4]=s,i[5]=l,i[6]=c,i[7]=r):r=i[7],i[8]!==t||i[9]!==r?(n=(0,o.jsxs)(o.Fragment,{children:[t,r]}),i[8]=t,i[9]=r,i[10]=n):n=i[10],n};try{eZ.displayName||(eZ.displayName="StaffDialogs")}catch{}let e0=e=>{let t,r,n,i,s,d,h,u,m,p,f,g,x,w,_=(0,a.c)(54),S=(0,l.Pk)(),C=(0,c.b)(),[N,O]=(0,j.useState)(!1);_[0]!==S?(t=(0,ey.W)(S),_[0]=S,_[1]=t):t=_[1];let I=t,{showTopicPicker:D,messages:k,streamingMessage:P}=S,E=I?.name??S.restoredThreadTitle;_[2]!==C||_[3]!==I?(r=async()=>I&&C.deleteThread(I),_[2]=C,_[3]=I,_[4]=r):r=_[4];let R=r;_[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,em.G7)("lifecycle_label_name_updates"),_[5]=n):n=_[5];let L=n;_[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,em.G7)("copilot_no_floating_button"),_[6]=i):i=_[6];let T=i,A=(0,j.useRef)(null),V="immersive"===S.mode?1:3,B=D?"none":"1px solid";return _[7]!==V||_[8]!==B?(s={pl:V,borderBottom:B},_[7]=V,_[8]=B,_[9]=s):s=_[9],_[10]!==k||_[11]!==e.isImmersive||_[12]!==e.isResponding||_[13]!==D||_[14]!==S.chatIsOpen||_[15]!==S.currentView||_[16]!==E?(d="thread"===S.currentView?!D&&!e.isImmersive&&0===k.length&&S.chatIsOpen&&(0,o.jsx)(eD.A,{as:"h2",className:eA.HeaderTitle,children:"thread"===S.currentView?(0,o.jsx)(o.Fragment,{children:E?(0,o.jsx)("span",{className:"Truncate",children:(0,o.jsx)("span",{className:"Truncate-text",title:E,children:E})}):e.isResponding&&!S.chatIsOpen?(0,o.jsx)(o.Fragment,{children:"Responding\u2026"}):S.chatIsOpen?!D&&(0,o.jsx)(o.Fragment,{children:"New conversation"}):(0,o.jsx)(o.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,o.jsx)(e1,{}),_[10]=k,_[11]=e.isImmersive,_[12]=e.isResponding,_[13]=D,_[14]=S.chatIsOpen,_[15]=S.currentView,_[16]=E,_[17]=d):d=_[17],_[18]!==d?(h=(0,o.jsx)("div",{className:eA.headerTitleContainer,children:d}),_[18]=d,_[19]=h):h=_[19],_[20]!==R||_[21]!==C||_[22]!==k||_[23]!==e.setShowStaffDialog||_[24]!==S.chatIsOpen||_[25]!==S.currentView||_[26]!==S.renderBetaLabel||_[27]!==I?(u=S.chatIsOpen&&(0,o.jsxs)(o.Fragment,{children:[S.renderBetaLabel&&(L?(0,o.jsx)(eO.X,{className:"mr-2"}):(0,o.jsx)(ek.A,{variant:"success",className:eA.betaLabel,children:"Beta"})),"thread"===S.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.K,{hidden:0===k.length,variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"s",onClick:async()=>{await C.selectThread(null)},className:eA.actionButton}),(0,o.jsx)(e2,{anchorRef:A,handleDelete:R,thread:I,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:O})]}):(0,o.jsx)(y.K,{variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"w",onClick:async()=>{await C.selectThread(null)},className:eA.actionButton})]}),_[20]=R,_[21]=C,_[22]=k,_[23]=e.setShowStaffDialog,_[24]=S.chatIsOpen,_[25]=S.currentView,_[26]=S.renderBetaLabel,_[27]=I,_[28]=u):u=_[28],_[29]!==C||_[30]!==e.isImmersive||_[31]!==S.chatIsOpen||_[32]!==S.chatVisibleSettingPath||_[33]!==S.currentView||_[34]!==P||_[35]!==I?(m=!e.isImmersive&&(0,o.jsxs)(o.Fragment,{children:[S.chatIsOpen&&(0,o.jsx)("div",{className:eA.buttonSeparator}),(0,o.jsx)(ep.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:b.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!P,tooltipDirection:"sw",className:eA.actionButton}),T?(0,o.jsx)(ep.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:b.XIcon,tooltipDirection:"sw",className:eA.actionButton}):(0,o.jsx)(y.K,{variant:"invisible",icon:S.chatIsOpen?b.ChevronDownIcon:b.ChevronUpIcon,"aria-label":S.chatIsOpen?"Collapse":"Expand",tooltipDirection:S.chatIsOpen?"sw":"w",onClick:S.chatIsOpen?()=>C.closeChat():()=>C.openChat(I,S.currentView,"header",S.chatVisibleSettingPath),"data-hotkey":"Shift+Z",className:eA.actionButton})]}),_[29]=C,_[30]=e.isImmersive,_[31]=S.chatIsOpen,_[32]=S.chatVisibleSettingPath,_[33]=S.currentView,_[34]=P,_[35]=I,_[36]=m):m=_[36],_[37]!==m||_[38]!==u?(p=(0,o.jsxs)("div",{className:eA.headerActions,children:[u,m]}),_[37]=m,_[38]=u,_[39]=p):p=_[39],_[40]!==e?(f=()=>e.setShowStaffDialog(eR.hs.None),_[40]=e,_[41]=f):f=_[41],_[42]!==e.showStaffDialog||_[43]!==e.staffDialogRef||_[44]!==f?(g=(0,o.jsx)(eZ,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:f}),_[42]=e.showStaffDialog,_[43]=e.staffDialogRef,_[44]=f,_[45]=g):g=_[45],_[46]!==N?(x=N&&(0,o.jsx)(eV.Y,{returnFocusRef:A,onDismiss:()=>O(!1)}),_[46]=N,_[47]=x):x=_[47],_[48]!==p||_[49]!==g||_[50]!==x||_[51]!==s||_[52]!==h?(w=(0,o.jsxs)(v.az,{sx:s,className:eA.HeaderContainer,children:[h,p,g,x]}),_[48]=p,_[49]=g,_[50]=x,_[51]=s,_[52]=h,_[53]=w):w=_[53],w},e1=()=>{let e,t,r,n=(0,a.c)(7),{mode:i}=(0,l.Pk)(),s=(0,c.b)();n[0]!==s?(e=()=>s.viewCurrentThread(),n[0]=s,n[1]=e):e=n[1];let d="assistive"===i?"-8px":void 0;return n[2]!==d?(t={marginLeft:d},n[2]=d,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(r=(0,o.jsx)(v.$n,{leadingVisual:b.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,className:eA.actionButton,children:"Back"}),n[4]=e,n[5]=t,n[6]=r):r=n[6],r},e2=e=>{let t,r,n,i,s,h,u,m,p,f,g,x,w,v,_,S,C,N,O,I,D,k,P,E,R,L=(0,a.c)(54),[T,A]=(0,j.useState)(!1),{chatVisibleSettingPath:V,mode:B,repoCustomInstructionsEnabled:$,currentReferences:F}=(0,l.Pk)(),z=(0,c.b)(),M=(0,j.useRef)(null);L[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,em.G7)("copilot_no_floating_button"),L[0]=t):t=L[0];let H=t,U=eL.W.staffPromptDialog;L[1]!==F?(r=(0,d.NJ)(F),L[1]=F,L[2]=r):r=L[2];let W=r;L[3]!==z?(n=()=>{z.fetchThreads(),z.viewAllThreads(),(0,en.BI)("copilot.view-conversations-clicked")},L[3]=z,L[4]=n):n=L[4];let q=n;L[5]!==e?(i=()=>{e.handleDelete(),A(!1)},L[5]=e,L[6]=i):i=L[6];let G=i;L[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,eI.X)(),L[7]=s):s=L[7];let J=s,K=!e.thread;L[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>A(e3),L[8]=h):h=L[8],L[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)(eP.W.Anchor,{children:(0,o.jsx)(y.K,{icon:b.KebabHorizontalIcon,variant:"invisible","aria-label":"Conversation options",tooltipDirection:"n",className:eA.actionButton})}),L[9]=u):u=L[9],L[10]!==W.length||L[11]!==z||L[12]!==$?(m=W.length>0&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>{z.toggleRepoCustomInstructions(!$)},children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.NoteIcon,{})}),$?"Disable custom instructions":"Enable custom instructions"]}),L[10]=W.length,L[11]=z,L[12]=$,L[13]=m):m=L[13];let Q=K?"default":"danger";return L[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.TrashIcon,{})}),L[14]=p):p=L[14],L[15]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),L[15]=f):f=L[15],L[16]!==K||L[17]!==G||L[18]!==Q?(g=(0,o.jsxs)(eE.l.Item,{variant:Q,onSelect:G,disabled:K,"aria-describedby":"delete-conversation-description",children:[p,"Delete conversation",f]}),L[16]=K,L[17]=G,L[18]=Q,L[19]=g):g=L[19],L[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(eE.l.Divider,{}),L[20]=x):x=L[20],L[21]!==e?(w=()=>e.setShowPersonalInstructionsDialog(!0),L[21]=e,L[22]=w):w=L[22],L[23]===Symbol.for("react.memo_cache_sentinel")?(v=(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.ToolsIcon,{})}),L[23]=v):v=L[23],L[24]!==w?(_=(0,o.jsxs)(eE.l.Item,{onSelect:w,children:[v,"Personal instructions"]}),L[24]=w,L[25]=_):_=L[25],L[26]!==q||L[27]!==B?(S="assistive"===B&&(0,o.jsxs)(eE.l.Item,{onSelect:q,children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.HistoryIcon,{})}),"View all conversations"]}),L[26]=q,L[27]=B,L[28]=S):S=L[28],L[29]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{M.current?.openDialog(),(0,en.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},L[29]=C):C=L[29],L[30]===Symbol.for("react.memo_cache_sentinel")?(N=(0,o.jsxs)(eE.l.Item,{onSelect:C,children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.CommentDiscussionIcon,{})}),"Give feedback"]}),L[30]=N):N=L[30],L[31]!==V||L[32]!==z||L[33]!==B?(O="assistive"===B&&!H&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>{z.hideChat(V)},children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.EyeClosedIcon,{})}),"Hide Copilot chat"]}),L[31]=V,L[32]=z,L[33]=B,L[34]=O):O=L[34],L[35]!==e?(I=J&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eR.hs.Experiments),children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Configure experiments",(0,o.jsx)(eE.l.TrailingVisual,{children:(0,o.jsx)(ek.A,{variant:"attention",children:"Staff"})})]}),L[35]=e,L[36]=I):I=L[36],L[37]!==e?(D=J&&U&&(0,o.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eR.hs.Prompt),children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Adjust prompts",(0,o.jsx)(eE.l.TrailingVisual,{children:(0,o.jsx)(ek.A,{variant:"attention",children:"Staff"})})]}),L[37]=e,L[38]=D):D=L[38],L[39]!==g||L[40]!==_||L[41]!==S||L[42]!==O||L[43]!==I||L[44]!==D||L[45]!==m?(k=(0,o.jsx)(eS.UJ,{children:(0,o.jsxs)(eE.l,{children:[m,g,x,_,S,N,O,I,D]})}),L[39]=g,L[40]=_,L[41]=S,L[42]=O,L[43]=I,L[44]=D,L[45]=m,L[46]=k):k=L[46],L[47]!==T||L[48]!==e.anchorRef||L[49]!==k?(P=(0,o.jsxs)(eP.W,{open:T,onOpenChange:h,anchorRef:e.anchorRef,children:[u,k]}),L[47]=T,L[48]=e.anchorRef,L[49]=k,L[50]=P):P=L[50],L[51]===Symbol.for("react.memo_cache_sentinel")?(E=(0,o.jsx)(eT.l,{ref:M,mode:"assistive"}),L[51]=E):E=L[51],L[52]!==P?(R=(0,o.jsxs)(o.Fragment,{children:[P,E]}),L[52]=P,L[53]=R):R=L[53],R};try{e0.displayName||(e0.displayName="Header")}catch{}try{e1.displayName||(e1.displayName="ReturnToCurrentThreadButton")}catch{}try{e2.displayName||(e2.displayName="ThreadOptionButton")}catch{}function e3(e){return!e}var e4=r(79184),e5=r(69726),e7=r(72511),e6=r(10095);let e8={loadingStateContainer:"ThreadListView-module__loadingStateContainer--cQ2Y1",ActionList:"ThreadListView-module__ActionList--vTS9v",emptyStateContainer:"ThreadListView-module__emptyStateContainer--RI0zV",errorStateContainer:"ThreadListView-module__errorStateContainer--xIKxr",deleteAllButton:"ThreadListView-module__deleteAllButton--YxpmP"};function e9(){let e,t,r=(0,a.c)(9),n=(0,l.Pk)(),i=(0,c.b)();r[0]!==i||r[1]!==n.threads?(e=i.sortAndFilterThreads(n.threads,te),r[0]=i,r[1]=n.threads,r[2]=e):e=r[2];let s=e,[d,h]=(0,j.useState)(!1),u=(0,j.useRef)(null),m=eL.W.deleteAllConversations;if("loading"===n.threadsLoading.state&&s.length<2){let e;return r[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)("div",{className:e8.loadingStateContainer,children:[(0,o.jsx)(e5.A,{}),"Loading threads\u2026"]}),r[3]=e):e=r[3],e}return r[4]!==i||r[5]!==d||r[6]!==n.threadsLoading||r[7]!==s?(t=(0,o.jsx)(o.Fragment,{children:"error"===n.threadsLoading.state?(0,o.jsx)(tt,{threadsLoading:n.threadsLoading}):(0,o.jsxs)(o.Fragment,{children:[s.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eE.l,{className:e8.ActionList,children:(0,o.jsxs)(eE.l.Group,{children:[(0,o.jsx)(eE.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,o.jsx)(tr,{threads:s,manager:i}),s.length>1&&m&&(0,o.jsx)(tn,{threads:s,manager:i,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u})]})})}),0===s.length&&(0,o.jsxs)("div",{className:e8.emptyStateContainer,children:[(0,o.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,o.jsx)(el.Q,{onClick:()=>i.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),r[4]=i,r[5]=d,r[6]=n.threadsLoading,r[7]=s,r[8]=t):t=r[8],t}function te(e){return void 0===e.customCopilotID}let tt=e=>{let t,r,n=(0,a.c)(3),{threadsLoading:i}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(e6.A,{icon:b.AlertIcon}),n[0]=t):t=n[0];let s="error"===i.state?i.error:"Something went wrong. Please try again later.";return n[1]!==s?(r=(0,o.jsx)("div",{className:e8.errorStateContainer,children:(0,o.jsxs)(e7.A,{variant:"warning",children:[t,s]})}),n[1]=s,n[2]=r):r=n[2],r},tr=e=>{let t,r,n=(0,a.c)(7),{threads:i,manager:s}=e;if(n[0]!==s||n[1]!==i){let e;n[3]!==s?(e=e=>(0,o.jsxs)(eE.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,o.jsx)(eE.l.LeadingVisual,{children:(0,o.jsx)(b.CommentIcon,{})}),(0,d.CB)(e),(0,o.jsx)(eE.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,o.jsx)(w.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,o.jsx)(eE.l.TrailingAction,{icon:b.TrashIcon,label:`Delete conversation: "${(0,d.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),n[3]=s,n[4]=e):e=n[4],t=i.map(e),n[0]=s,n[1]=i,n[2]=t}else t=n[2];return n[5]!==t?(r=(0,o.jsx)(o.Fragment,{children:t}),n[5]=t,n[6]=r):r=n[6],r},tn=e=>{let t,r,n,i,s=(0,a.c)(14),{threads:l,manager:c,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u}=e;return s[0]!==h?(t=()=>h(!0),s[0]=h,s[1]=t):t=s[1],s[2]!==u||s[3]!==t?(r=(0,o.jsx)(el.Q,{"data-testid":"delete-all-threads-button",ref:u,onClick:t,className:e8.deleteAllButton,children:"Delete all conversations"}),s[2]=u,s[3]=t,s[4]=r):r=s[4],s[5]!==c||s[6]!==u||s[7]!==h||s[8]!==d||s[9]!==l?(n=!0===d&&(0,o.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,o.jsxs)(eM.l,{title:"Delete all conversations",width:"small",onClose:()=>h(!1),returnFocusRef:u,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>h(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await c.deleteAllThreadKeepSelection(l),h(!1)},autoFocus:!0}],children:["You are trying to delete ",l.length," conversations. Are you sure? This can\u2019t be undone."]})}),s[5]=c,s[6]=u,s[7]=h,s[8]=d,s[9]=l,s[10]=n):n=s[10],s[11]!==r||s[12]!==n?(i=(0,o.jsxs)(o.Fragment,{children:[r,n]}),s[11]=r,s[12]=n,s[13]=i):i=s[13],i};try{e9.displayName||(e9.displayName="ThreadListView")}catch{}try{tt.displayName||(tt.displayName="ErrorView")}catch{}try{tr.displayName||(tr.displayName="ListView")}catch{}try{tn.displayName||(tn.displayName="DeleteAll")}catch{}let to={CopilotChatContainer:"CopilotChat-module__CopilotChatContainer--fWXmM",IconButton:"CopilotChat-module__IconButton--jjRoQ",Popover:"CopilotChat-module__Popover--gWIEN",Popover_Content:"CopilotChat-module__Popover_Content--o_2MF",chatContentScrollContainer:"CopilotChat-module__chatContentScrollContainer--eCNUB",chatViewContainer:"CopilotChat-module__chatViewContainer--F1fj4"};var ta=r(39619),ti=r(46062);let ts=(0,ea.E7)();function tl(e){let t,r=(0,a.c)(2);return r[0]!==e?(t=(0,o.jsx)(eh.RelayEnvironmentProvider,{environment:ts,children:(0,o.jsx)(tc,{...e})}),r[0]=e,r[1]=t):t=r[1],t}function tc(e){let t,r,n,i,c,d=(0,a.c)(9),h=(0,j.useRef)(null),u=(0,j.useRef)(null),m=ew.Jt.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=ew.Jt.getCurrentReferences(m)||[],d[0]=t):t=d[0];let p=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(r=(0,o.jsx)(td,{renderPopover:f,ref:h,reactPartialAnchor:e.reactPartialAnchor,inputRef:u}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)(eS.cB,{}),i=(0,o.jsx)(tp,{inputRef:u}),d[4]=n,d[5]=i):(n=d[4],i=d[5]),d[6]!==e||d[7]!==r?(c=(0,o.jsx)(s.LB,{children:(0,o.jsxs)(l.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:m,refs:p,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[r,n,i]})}),d[6]=e,d[7]=r,d[8]=c):c=d[8],c}let td=j.forwardRef((e,t)=>{let r,n,i,h,u,m,p,f,g,x,w,v,_,S,C,N,O,I,D=(0,a.c)(62),k=(0,c.b)(),P=(0,l.Pk)();D[0]!==P?(r=(0,ey.W)(P),D[0]=P,D[1]=r):r=D[1];let E=r,{currentTopic:R,currentView:L}=P,{screenSize:T}=(0,s.lm)(),{licenseType:A}=(0,e4.xR)(),V=(0,ti.GF)(P.availableModels),B=(0,j.useRef)(!0);D[2]!==R||D[3]!==V||D[4]!==k||D[5]!==E||D[6]!==P.chatIsOpen?(n=()=>(0,ta.HS)(e=>void k.handleOpenPanelEvent(E,e,P.chatIsOpen,R,V)),i=[R,E,k,P.chatIsOpen,V],D[2]=R,D[3]=V,D[4]=k,D[5]=E,D[6]=P.chatIsOpen,D[7]=n,D[8]=i):(n=D[7],i=D[8]),(0,j.useEffect)(n,i),D[9]!==k?(h=()=>(0,ta.f7)(e=>{k.handleAddReferenceEvent(e)}),D[9]=k,D[10]=h):h=D[10],D[11]!==k||D[12]!==E||D[13]!==P.currentReferences?(u=[E,k,P.currentReferences],D[11]=k,D[12]=E,D[13]=P.currentReferences,D[14]=u):u=D[14],(0,j.useEffect)(h,u),D[15]!==k?(m=()=>(0,ta.Tv)(e=>{k.handleSymbolChangedEvent(e)}),D[15]=k,D[16]=m):m=D[16],(0,j.useEffect)(m),D[17]!==V||D[18]!==k?(p=()=>(0,ta.fD)(e=>{k.handleSearchCopilotEvent(e,V)}),f=[k,V],D[17]=V,D[18]=k,D[19]=p,D[20]=f):(p=D[19],f=D[20]),(0,j.useEffect)(p,f),D[21]!==L||D[22]!==k||D[23]!==P.chatVisibleSettingPath||D[24]!==P.selectedThreadID||D[25]!==P.threads?(g=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,r=P.selectedThreadID;if("1"===t.get("copilot")&&r){let t=P.threads.get(r)??null;k.openChat(t,L,"immersive",P.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,er.kd)(e.toString())}},x=[k,P.selectedThreadID,P.threads,L,P.chatVisibleSettingPath],D[21]=L,D[22]=k,D[23]=P.chatVisibleSettingPath,D[24]=P.selectedThreadID,D[25]=P.threads,D[26]=g,D[27]=x):(g=D[26],x=D[27]),(0,j.useEffect)(g,x),D[28]!==k||D[29]!==T||D[30]!==E||D[31]!==P.chatIsVisible||D[32]!==P.chatVisibleSettingPath||D[33]!==P.currentView?(w=()=>{B.current&&(B.current=!1,P.chatIsVisible&&!ew.Jt.getCollapsedState()&&T>s.Gy.large&&k.openChat(E,P.currentView,"page load",P.chatVisibleSettingPath))},v=[k,T,E,P.chatIsVisible,P.chatVisibleSettingPath,P.currentView],D[28]=k,D[29]=T,D[30]=E,D[31]=P.chatIsVisible,D[32]=P.chatVisibleSettingPath,D[33]=P.currentView,D[34]=w,D[35]=v):(w=D[34],v=D[35]),(0,j.useEffect)(w,v),D[36]!==R||D[37]!==L||D[38]!==A||D[39]!==k||D[40]!==e.inputRef||D[41]!==E||D[42]!==P.chatIsOpen||D[43]!==P.chatVisibleSettingPath?(_=async()=>{if(P.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(A===eR.mF.Unlicensed){if(P.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,ei.DI)(P.chatVisibleSettingPath,{method:"PUT",body:e}),ew.Jt.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}k.openChat(E,L,"header",P.chatVisibleSettingPath,(0,d.Z6)(R)?(0,d.qS)(R):void 0)}},D[36]=R,D[37]=L,D[38]=A,D[39]=k,D[40]=e.inputRef,D[41]=E,D[42]=P.chatIsOpen,D[43]=P.chatVisibleSettingPath,D[44]=_):_=D[44];let $=_;if(e.reactPartialAnchor){let t,r,n;return D[45]!==e.reactPartialAnchor?(t=(0,o.jsx)(th,{reactPartialAnchor:e.reactPartialAnchor}),D[45]=e.reactPartialAnchor,D[46]=t):t=D[46],D[47]!==e.renderPopover?(r=e.renderPopover?(0,o.jsx)(tm,{renderPopover:!0}):(0,o.jsx)(o.Fragment,{}),D[47]=e.renderPopover,D[48]=r):r=D[48],D[49]!==t||D[50]!==r?(n=(0,o.jsxs)("div",{className:to.CopilotChatContainer,children:[t,r]}),D[49]=t,D[50]=r,D[51]=n):n=D[51],n}return D[52]===Symbol.for("react.memo_cache_sentinel")?(S=(0,ed.$)("AppHeader-CopilotChatButton",to.CopilotChatContainer),D[52]=S):S=D[52],D[53]===Symbol.for("react.memo_cache_sentinel")?(C=(0,ed.$)("AppHeader-button",to.IconButton),D[53]=C):C=D[53],D[54]!==$||D[55]!==t?(N=(0,o.jsx)(ec.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,o.jsx)("div",{children:(0,o.jsx)(y.K,{unsafeDisableTooltip:!0,ref:t,id:ex.fv,icon:b.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":ex.wJ,onClick:$,className:C,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),D[54]=$,D[55]=t,D[56]=N):N=D[56],D[57]!==e.renderPopover?(O=(0,o.jsx)(tm,{renderPopover:e.renderPopover}),D[57]=e.renderPopover,D[58]=O):O=D[58],D[59]!==N||D[60]!==O?(I=(0,o.jsxs)("div",{className:S,children:[N,O]}),D[59]=N,D[60]=O,D[61]=I):I=D[61],I});function th(e){let t,r=(0,a.c)(1),{reactPartialAnchor:n}=e;return(0,eo.QJ)(n,tu),r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(o.Fragment,{}),r[0]=t):t=r[0],t}function tu(){(0,en.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tm(e){let t,r,n,i=(0,a.c)(4),{renderPopover:s}=e,[l,c]=(0,j.useState)(s);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{c(!1),await (0,ei.DI)((({notice:e})=>`/settings/dismiss-notice/${e}`)({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},i[0]=t):t=i[0];let d=t;return i[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsxs)(es.A.Content,{"data-testid":"copilot-chat-cta-popover",className:to.Popover_Content,children:[(0,o.jsxs)("p",{children:["You now have access to"," ",(0,o.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,o.jsx)(el.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:d,children:"Got it!"})]}),i[1]=r):r=i[1],i[2]!==l?(n=(0,o.jsx)(es.A,{open:l,caret:"top-right",className:to.Popover,children:r}),i[2]=l,i[3]=n):n=i[3],n}function tp(e){let t,r,n,i,s,d,h,u,m=(0,a.c)(29),{inputRef:p}=e,f=(0,l.Pk)(),g=(0,c.b)(),x=(0,j.useRef)(null),[b,w]=(0,j.useState)(eR.hs.None),[y,v]=(0,j.useState)(!1),_=(0,j.useRef)(f.messages.length),S=(0,j.useRef)(f.messagesLoading.state),{panelWidth:C,panelHeight:N,startResize:O,onResizerKeyDown:I}=(0,eb.Tz)();m[0]!==f.chatIsOpen||m[1]!==f.messages.length||m[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>_.current&&!f.chatIsOpen&&"loaded"===S.current&&v(!0),_.current=f.messages.length,S.current=f.messagesLoading.state},r=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],m[0]=f.chatIsOpen,m[1]=f.messages.length,m[2]=f.messagesLoading.state,m[3]=t,m[4]=r):(t=m[3],r=m[4]),(0,j.useEffect)(t,r),m[5]!==y||m[6]!==f.chatIsOpen?(n=()=>{f.chatIsOpen&&y&&v(!1)},i=[y,f.chatIsOpen],m[5]=y,m[6]=f.chatIsOpen,m[7]=n,m[8]=i):(n=m[7],i=m[8]),(0,j.useEffect)(n,i),m[9]!==g||m[10]!==f.entryPointId?(s=e=>{w(eR.hs.None),g.closeChat();let t=f.entryPointId??ex.fv;if(e&&t){let e=document.getElementById(t),r=window.scrollX,n=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(r,n)},0)}},m[9]=g,m[10]=f.entryPointId,m[11]=s):s=m[11];let D=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return m[12]!==b||m[13]!==D?(d=(0,o.jsx)(e0,{staffDialogRef:x,showStaffDialog:b,setShowStaffDialog:w,isResponding:D}),m[12]=b,m[13]=D,m[14]=d):d=m[14],m[15]!==p||m[16]!==f.chatIsOpen||m[17]!==f.currentView||m[18]!==f.selectedThreadID?(h=f.chatIsOpen&&(0,o.jsx)("div",{className:to.chatContentScrollContainer,children:(0,o.jsx)("div",{className:to.chatViewContainer,children:"thread"===f.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eu.r,{inputRef:p},f.selectedThreadID),(0,o.jsx)(et,{})]}):(0,o.jsx)(e9,{})})}),m[15]=p,m[16]=f.chatIsOpen,m[17]=f.currentView,m[18]=f.selectedThreadID,m[19]=h):h=m[19],m[20]!==p||m[21]!==I||m[22]!==N||m[23]!==C||m[24]!==O||m[25]!==s||m[26]!==d||m[27]!==h?(u=(0,o.jsxs)(eC,{staffDialogRef:x,handleClose:s,panelWidth:C,panelHeight:N,startResize:O,onResizerKeyDown:I,initialFocusRef:p,children:[d,h]}),m[20]=p,m[21]=I,m[22]=N,m[23]=C,m[24]=O,m[25]=s,m[26]=d,m[27]=h,m[28]=u):u=m[28],u}td.displayName="CopilotHeaderButton",tp.displayName="ChatPanelWithHeader";try{tl.displayName||(tl.displayName="CopilotChat")}catch{}try{tc.displayName||(tc.displayName="CopilotChatNoRelay")}catch{}try{th.displayName||(th.displayName="ExternalAnchorListener")}catch{}try{tm.displayName||(tm.displayName="WelcomePopover")}catch{}(0,n.k)("copilot-chat",{Component:tl})},29731:(e,t,r)=>{r.d(t,{G:()=>n});let n=e=>({})},30721:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>I,E7:()=>O});var n=r(50467),o=r(40961),a=r(69487),i=r(37285),s=r(96379),l=r(71315),c=r(38102);let d=["SAML","SERVICE_UNAVAILABLE"],h={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},u={NOT_FOUND:[["repository","issue"]]};var m=r(51987);function p(e,t){let r=u[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let f=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function g(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),o={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},a=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(o)}`;if(429===e.status)throw{message:a,cause:e.status};throw Error(a,{cause:e.status})}}async function x(e,t,r,n="GET",o,a,i,s){return(await b(e,t,r,n,{isSubscription:!1,scope:void 0},o,a,i,s)).response}async function b(e,t,r,n="POST",o={},s,u,m,g){let x=JSON.stringify((0,a.stableCopy)({query:e,variables:r,...o.scopeObject?{scopeObject:o.scopeObject}:{}})),{isSubscription:y,scope:v,subscriptionTopic:j,dispatchTime:_}=o,S=function(e,t,r,n,o,a,i="/_graphql"){let s=[];if("GET"===e&&s.push(`body=${t}`),r&&s.push("subscription=1"),o&&s.push(`scope=${encodeURIComponent(o)}`),n&&s.push(`subscriptionTopic=${encodeURIComponent(n)}`),a&&s.push(`dispatchTime=${encodeURIComponent(a)}`),l.cg){let e=new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("_features");e&&s.push(`_features=${e}`)}return s.length>0?`${i}?${s.join("&")}`:i}(n,encodeURIComponent(x),y,j,v,_,s),C=null;try{let{subscriptionId:r,requestId:o,json:a,status:s}=await w(S,n,e,t,x,u);if(C=r,m&&a.errors){let e=m[s];if(e)for(let r of a.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let l=function(e,t,r,n){var o,a;if(o=t,a=e,"errors"in a&&(a.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${o} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),a.errors=a.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),o=new f(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,c.N7)(o),n.error(o);else throw o}if(!("data"in e)){let o=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,c.N7)(o),n.error(o);else throw o}return e}(a,o,e,g);return l&&(0,i.Av)(l),{subscriptionId:C,response:l}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:C,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function w(e,t,r,n,o,a){return y((0,i.RD)(e),t,r,n,o,a)}async function y(e,t,r,n,o,a){let i,l,d={...(0,m.kt)()};a?.issues_react_perf_test&&(d["X-LUC-Environment"]="issues");let h=(i="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...d}}):await (0,s.DI)(e,{method:t,headers:{Accept:"application/json",...d},...o?{body:o}:void 0})).headers.get("X-Subscription-ID"),u=i.headers.get("X-Github-Request-Id")||"",p=i.status;await g(i,r,n);try{l=await i.json()}catch(r){let t={error:r,status:p,url:e,requestId:u};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:h,requestId:u,json:l,status:p}}let v=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===a.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===a.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var j=r(11418),_=r(73056),S=r(69982);function C(e){return(0,S.unstable_scheduleCallback)(S.unstable_LowPriority,e)}let N={cancel:()=>!1,schedule:e=>((0,o.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,o,i,s){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=s,this.relayNetwork=a.Network.create((e,t)=>a.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:o,enabledFeatures:a,maxAge:i,errorCallbacks:s,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),o=r.get(e.id)?.get(n),a=Math.floor(Date.now()/1e3),s=o?.timestamp;if(o&&(c.next(o),!(i&&s&&a>s+i)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,l.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(l.KJ)return x(e.id,e.name,t,d,n,a,s,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:o,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,o=e.name;return a.Observable.create(a=>{let i=()=>{},s=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let l=e.metadata?.scope,d=function(e,t,r,n){let o=n.get(e);if(o)e:for(let[e,n]of o){for(let[n,o]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==o||t[n]!==o)continue e;return n}}(n,t,l,r),h=null;if(d)h=d.subscriptionId,d.response&&a.next(d.response);else try{let e=await b(n,o,t,"GET",{isSubscription:!0,scope:l});h=e.subscriptionId,e.response&&a.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,j.H)();if(s)return;let r=(0,_.$)(e,h,async({scope_object:e,subscription_topic:r,dispatch_time:i})=>{try{let{response:s}=await b(n,o,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:i,scope:l});s&&a.next(s)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(i=r.unsubscribe)}catch(e){a.error(e)}}(),{get closed(){return s},unsubscribe(){s=!0,i()}}})})(e,t,this.preloadedSubscriptions))}};let O=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new a.Environment({scheduler:N,store:new a.Store(new a.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:C}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,a.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:v});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function I({environment:e,query:t,variables:r={}}){let n=(0,a.getRequest)(t),o=(0,a.createOperationDescriptor)(n,r);return e.retain(o),(0,a.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},33303:(e,t,r)=>{function n(){return Promise.resolve()}function o(){return new Promise(window.requestAnimationFrame)}async function a(e,t){let r,n=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return n;try{var o;await Promise.race([n,(o=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",o.aborted?t(r):o.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function i(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>o,k2:()=>n,rK:()=>i,uk:()=>a})},39619:(e,t,r)=>{r.d(t,{HS:()=>i,Oc:()=>a,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>o});var n=r(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,n._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,n._)(this,"reference",void 0),(0,n._)(this,"openPanel",void 0),(0,n._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,n._)(this,"context",void 0),this.context=e}};function o(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function a(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},45385:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(25407),o=r(96379),a=r(96540);function i(e,t,r,i){let[s,l]=(0,a.useState)({loading:!0}),c=t&&e&&r&&i?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"file-contributors",path:i}):null;return(0,a.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,o.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},46747:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(31223),o=r(23125),a=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,n.M)(e),d=(0,a.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:s}:{leading:r,trailing:s,maxWait:i};return(0,o.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,s]);return(0,a.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},53419:(e,t,r)=>{let n;r.d(t,{BI:()=>p,Ti:()=>f,lA:()=>u,sX:()=>m});var o=r(18679),a=r(70837),i=r(82075),s=r(11083);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,n=new o.s(e)}catch{}function h(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function u(e){n?.sendPageView(h(e))}function m(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function p(e,t={}){let r=m(),o=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(o[e]=`${r}`);n&&(h(o),n.sendEvent(e||"unknown",h(o)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},54589:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(74848),o=r(26607),a=r(10242),i=r(84174);let s=({children:e="Preview",feedbackUrl:t,className:r})=>(0,n.jsx)(i.V,{className:r,label:(0,n.jsx)(o.A,{variant:"success",children:e}),link:t?(0,n.jsx)(a.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}},68911:(e,t,r)=>{r.d(t,{D7:()=>o,MQ:()=>n,gE:()=>a});let n=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},o=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,a=e=>{if(!e)return;if(!n(e))return e;let[,,...t]=e.split("/");return t.join("/")}},73056:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(10204),o=r(33303);let a=new WeakMap;function i(e,t,r){let i;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let s=n.KK.parse(t);if(!s)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:s},c=((i=a.get(e))||(i={subscribe:(0,o.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,o.rK)(t=>e.unsubscribeAll(...t))},a.set(e,i)),i);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},87255:(e,t,r)=>{r.d(t,{Y:()=>N});var n,o=r(74848),a=r(21728),i=r(70170),s=r(53419),l=r(29731),c=r(83494),d=r(88431),h=r(96379),u=r(56149),m=r(86877),p=r(4175),f=r(21373),g=r(15220),x=r(96540),b=r(40961),w=r(2635),y=r(33592);let v={footerContainer:"PersonalInstructionsDialog-module__footerContainer--T9wxr"};var j=r(38621),_=r(5524);let S={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},C=(0,x.forwardRef)(function(e,t){let r,n,i,s,l,c,d,h,u=(0,a.c)(19),{onSelect:m}=e,[p,f]=(0,x.useState)(!1);u[0]!==p?(r=()=>f(!p),u[0]=p,u[1]=r):r=u[1];let g=r;u[2]===Symbol.for("react.memo_cache_sentinel")?(n={marginBottom:"1px"},u[2]=n):n=u[2],u[3]!==m||u[4]!==p?(i=p&&Object.entries(S)?.map(e=>{let[t,r]=e;return(0,o.jsxs)(_.l.Item,{"aria-label":`${r.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>m(t,r.body),children:[(0,o.jsx)(j.PlusIcon,{}),t]},t)}),u[3]=m,u[4]=p,u[5]=i):i=u[5],u[6]!==i?(s=(0,o.jsx)(_.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i}),u[6]=i,u[7]=s):s=u[7];let b=p?"Hide templates":"Show templates";return u[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},u[8]=l):l=u[8],u[9]!==p?(c=p?(0,o.jsx)(j.XIcon,{}):(0,o.jsx)(j.LightBulbIcon,{}),u[9]=p,u[10]=c):c=u[10],u[11]!==b||u[12]!==c||u[13]!==g?(d=(0,o.jsx)(_.l,{className:"d-flex flex-column flex-justify-end",children:(0,o.jsx)(_.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:g,children:c})}),u[11]=b,u[12]=c,u[13]=g,u[14]=d):d=u[14],u[15]!==t||u[16]!==s||u[17]!==d?(h=(0,o.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:n,children:[s,d]}),u[15]=t,u[16]=s,u[17]=d,u[18]=h):h=u[18],h});try{C.displayName||(C.displayName="PersonalInstructionsTemplates")}catch{}try{(n=PersonalInstructionsTemplatesWithRef).displayName||(n.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let N=({onDismiss:e,returnFocusRef:t})=>{let r=(0,w.Pk)(),n=(0,y.b)(),[j,_]=(0,x.useState)(r.personalInstructions??""),[S,N]=(0,x.useState)(void 0),[I,D]=(0,x.useState)(!1),k=(0,x.useRef)(null),P=(0,x.useRef)(null),[E,R]=(0,x.useState)(""),L=((e,t)=>{let r,n,o=(0,a.c)(4),[s,l]=(0,x.useState)(48);return o[0]!==e||500!==o[1]?(r=()=>{let t=(0,i.s)(()=>{e?.current&&l(e.current.clientHeight??48)},500),r=new ResizeObserver(t);return e?.current&&r.observe(e.current),()=>{t.cancel(),r?.disconnect?.()}},n=[e,500],o[0]=e,o[1]=500,o[2]=r,o[3]=n):(r=o[2],n=o[3]),(0,x.useEffect)(r,n),s})(P);(0,d.N)(()=>{k?.current&&(k.current.scrollTop=k.current.scrollHeight)},[j]);let T=(0,x.useCallback)(async()=>{if(!I){D(!0),E&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:E});try{let t=await (0,h.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:j}});if(t.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),n.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:j}),(0,b.flushSync)(()=>e());else{let e=await t.json();N(String(e.errorMessage))}}catch{N("An error occurred while saving your personal instructions.")}finally{D(!1)}}},[I,j,n,e,E]),A=(e,t)=>{t&&(_(j?`${j}
${t}`:t),R(e),k?.current?.focus())},V=()=>{T()},B=(0,x.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e())},[e]);return(0,o.jsx)(u.ZL,{children:(0,o.jsx)(g.l,{onClose:B,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,o.jsx)(g.l.Body,{children:(0,o.jsx)("form",{onSubmit:T,children:(0,o.jsxs)(m.A,{children:[(0,o.jsx)(m.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,o.jsx)("div",{className:"width-full position-relative",children:(0,o.jsxs)(c.tL,{commands:{"github:submit-form":V},children:[(0,o.jsx)(p.Ay,{ref:k,className:"width-full",style:{paddingBottom:`${L}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:j,validationStatus:S||j.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{_(e.target.value),N(void 0)}}),(0,o.jsx)(C,{ref:P,onSelect:A})]})}),(0,o.jsx)(O,{text:j,promptCharLimit:4e3}),S&&(0,o.jsx)(m.A.Validation,{variant:"error",children:(0,o.jsx)("span",{...(0,l.G)("error-message"),children:S})})]})})}),renderFooter:()=>(0,o.jsxs)("div",{className:v.footerContainer,children:[(0,o.jsx)(f.Q,{variant:"default",onClick:B,children:"Cancel"}),(0,o.jsx)(f.Q,{loading:I,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:T,children:"Save"})]})})})};function O(e){let t,r,n,i,s=(0,a.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(r=(0,o.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=r):r=s[2],s[3]!==d||s[4]!==r?(n=(0,o.jsxs)(o.Fragment,{children:[r," ","/ ",d," characters"]}),s[3]=d,s[4]=r,s[5]=n):n=s[5];let h=n;return s[6]!==h||s[7]!==d||s[8]!==c.length?(i=(0,o.jsx)(o.Fragment,{children:c.length>d?(0,o.jsx)(m.A.Validation,{variant:"error",children:h}):(0,o.jsx)(m.A.Caption,{children:h})}),s[6]=h,s[7]=d,s[8]=c.length,s[9]=i):i=s[9],i}try{N.displayName||(N.displayName="PersonalInstructionsDialog")}catch{}try{O.displayName||(O.displayName="CharacterCount")}catch{}},91547:(e,t,r)=>{r.d(t,{E:()=>u,q:()=>h});var n=r(5225),o=r(25407),a=r(82591),i=r(96379),s=r(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(l,{cache:c});function h(){c.clear()}function u(e,t,r,n){let[i,l]=(0,s.useState)(),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!0),f=t&&e&&r&&n?(0,o.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"latest-commit",path:n}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(a.z.START,h,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;u(!1),p(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):u(!0)}catch{u(!0)}p(!1)}})(),function(){e=!0}},[f,r]),[i,m,c]}}}]);
//# sourceMappingURL=packages_copilot-chat_entry_ts-packages_use-debounce_use-debounce_ts-3bcb14c9ef13.js.map